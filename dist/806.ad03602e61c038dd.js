"use strict";(self.webpackChunkone_buck_store_ANG13=self.webpackChunkone_buck_store_ANG13||[]).push([[806],{8806:(Ne,C,u)=>{u.r(C),u.d(C,{UserModule:()=>qe});var p=u(9808);function Z(n,r,t,s,i,a,d){try{var l=n[a](d),c=l.value}catch(h){return void t(h)}l.done?r(c):Promise.resolve(c).then(s,i)}var e=u(7587),I=u(1714),y=u(3086),o=u(2382);const T=["paypal"];function F(n,r){1&n&&(e.TgZ(0,"div",17),e._UZ(1,"div",18),e.TgZ(2,"span",19),e._uU(3,"Please wait"),e.qZA()())}function q(n,r){1&n&&(e.TgZ(0,"div",20),e._uU(1," Congratulations on your purchase! You can now use your points to buy any product you want. Good luck & enjoy your experience with us. "),e.qZA())}let N=(()=>{class n{constructor(t,s){this.shopService=t,this.alertsService=s,this.paidFor=!1,this.isLoading=!1}ngOnInit(){var s,t=this;paypal.Buttons({createOrder:(s,i)=>i.order.create({purchase_units:[{amount:{value:this.amount,currency_code:"USD"}}]}),onApprove:(s=function S(n){return function(){var r=this,t=arguments;return new Promise(function(s,i){var a=n.apply(r,t);function d(c){Z(a,s,i,d,l,"next",c)}function l(c){Z(a,s,i,d,l,"throw",c)}d(void 0)})}}(function*(i,a){t.isLoading=!0;const d=yield a.order.capture();t.paidFor=!0,t.userSubscription=t.shopService.userBuyPoints(d.purchase_units[0].amount.value).subscribe(l=>{t.isLoading=!1,t.amount=0})}),function(a,d){return s.apply(this,arguments)}),onError:s=>{this.alertsService.addError("Something went wrong!")},onClick:(s,i)=>this.amount<1||!Number.isInteger(this.amount)?(this.alertsService.addError("Please enter a valid number!"),i.reject()):i.resolve()}).render(this.paypalElement.nativeElement)}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(I.d),e.Y36(y.m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-buy-points"]],viewQuery:function(t,s){if(1&t&&e.Gf(T,7),2&t){let i;e.iGM(i=e.CRH())&&(s.paypalElement=i.first)}},decls:22,vars:3,consts:[["id","buyPointsFormSection",1,"section","buy-points-form"],[1,"container"],[1,"buy-points-form-container"],[1,"buy-points-box-right"],[1,"form-content-container"],[1,"form-heading","section__main-heading"],[1,"form-lead-text"],["id","amount-input-container"],["for","buyPointsInput","id","buy-points-input-label"],["placeholder","Points","type","number","tabindex","1","required","","autofocus","","id","buyPointsInput","min","1",3,"ngModel","ngModelChange"],[1,"btns"],["id","pay-with-label"],["id","paypal-buttons-container"],[1,"pay-container"],["paypal",""],["class","loader-spin-container",4,"ngIf"],["class","paid",4,"ngIf"],[1,"loader-spin-container"],[1,"loader-spin"],[1,"please-wait"],[1,"paid"]],template:function(t,s){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),e._uU(6,"Buy Points"),e.qZA(),e.TgZ(7,"p",6),e._uU(8," We use a secure payment system to give you complete peace of mind. This system uses the latest security systems to ensure your payments are always 100% secure. Whether you\u2019re paying by card, PayPal or another method, you can be confident that your money is safe. "),e.qZA(),e.TgZ(9,"fieldset",7)(10,"label",8),e._uU(11,"Points amount:"),e.qZA(),e.TgZ(12,"input",9),e.NdJ("ngModelChange",function(a){return s.amount=a}),e.qZA()(),e.TgZ(13,"div",10)(14,"label",11),e._uU(15,"Pay with:"),e.qZA(),e.TgZ(16,"fieldset",12)(17,"div",13),e._UZ(18,"div",null,14),e.qZA()()()(),e.YNc(20,F,4,0,"div",15),e.YNc(21,q,2,0,"div",16),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngModel",s.amount),e.xp6(8),e.Q6J("ngIf",s.isLoading),e.xp6(1),e.Q6J("ngIf",s.paidFor))},directives:[o.qQ,o.wV,o.Fj,o.Q7,o.JJ,o.On,p.O5],styles:[".loader-spin[_ngcontent-%COMP%]{border:16px solid #f3f3f3;border-top:16px solid var(--primary-color);border-radius:50%;width:120px;height:120px;animation:spin 2s linear infinite;margin:0 auto}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loader-spin-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:100vw;background-color:#000c;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:999}.please-wait[_ngcontent-%COMP%]{padding:3rem;display:block;color:var(--light-gray);font-size:1.5rem}.paid[_ngcontent-%COMP%]{padding-left:3rem;font-size:1.6rem}#amount-input-container[_ngcontent-%COMP%]{padding:2rem 0;margin:3rem 0}#pay-with-label[_ngcontent-%COMP%]{padding-top:2rem;font-size:1.6rem;margin-bottom:2rem}#buy-points-input-label[_ngcontent-%COMP%]{font-size:1.4rem;padding-right:1rem;display:block}#buyPointsInput[_ngcontent-%COMP%]{padding:1rem;font-size:1.6rem;border:1px solid #ccc;border-radius:.5rem}#buyPointsInput[_ngcontent-%COMP%]:hover{border:1px solid var(--primary-color)}#buyPointsInput[_ngcontent-%COMP%]:focus{outline:0;border:2px solid var(--primary-color)}.buy-points-form-container[_ngcontent-%COMP%], .buy-points-form-container[_ngcontent-%COMP%]   .form-heading[_ngcontent-%COMP%], .buy-points-form-container[_ngcontent-%COMP%]   .form-lead-text[_ngcontent-%COMP%]{text-align:center}.btns[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;box-shadow:#64646f33 0 7px 29px}"]}),n})();var m=u(6533),g=u(2891),P=u(9646),O=u(727);class M extends O.w0{constructor(r,t){super()}schedule(r,t=0){return this}}const _={setInterval(...n){const{delegate:r}=_;return((null==r?void 0:r.setInterval)||setInterval)(...n)},clearInterval(n){const{delegate:r}=_;return((null==r?void 0:r.clearInterval)||clearInterval)(n)},delegate:void 0};var k=u(8737),J=u(6063);class f{constructor(r,t=f.now){this.schedulerActionCtor=r,this.now=t}schedule(r,t=0,s){return new this.schedulerActionCtor(this,r).schedule(s,t)}}f.now=J.l.now;const Q=new class B extends f{constructor(r,t=f.now){super(r,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(r){const{actions:t}=this;if(this._active)return void t.push(r);let s;this._active=!0;do{if(s=r.execute(r.state,r.delay))break}while(r=t.shift());if(this._active=!1,s){for(;r=t.shift();)r.unsubscribe();throw s}}}(class Y extends M{constructor(r,t){super(r,t),this.scheduler=r,this.work=t,this.pending=!1}schedule(r,t=0){if(this.closed)return this;this.state=r;const s=this.id,i=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(i,s,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(r,t,s=0){return _.setInterval(r.flush.bind(r,this),s)}recycleAsyncId(r,t,s=0){if(null!=s&&this.delay===s&&!1===this.pending)return t;_.clearInterval(t)}execute(r,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(r,t);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(r,t){let i,s=!1;try{this.work(r)}catch(a){s=!0,i=a||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:r,scheduler:t}=this,{actions:s}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,k.P)(s,this),null!=r&&(this.id=this.recycleAsyncId(t,r,null)),this.delay=null,super.unsubscribe()}}});var E=u(4482),L=u(5403),V=u(5698),R=u(3900),G=u(4004),z=u(2340),j=u(520);const D=z.N.apiUrl;let v=(()=>{class n{constructor(t){this.http=t}comparePasswords(){return t=>{const s=t.get("password"),i=t.get("confirmPassword");return!s||!i||i.errors&&!i.errors.notEquivalent||(s.value!==i.value?null==i||i.setErrors({notEquivalent:!0}):null==i||i.setErrors(null)),null}}isEmptyInputValue(t){return null===t||0===t.length}usernameValidator(){return t=>this.isEmptyInputValue(t.value)||""===t.value?(0,P.of)(null):t.valueChanges.pipe(function W(n,r=Q){return(0,E.e)((t,s)=>{let i=null,a=null,d=null;const l=()=>{if(i){i.unsubscribe(),i=null;const h=a;a=null,s.next(h)}};function c(){const h=d+n,A=r.now();if(A<h)return i=this.schedule(void 0,h-A),void s.add(i);l()}t.subscribe((0,L.x)(s,h=>{a=h,d=r.now(),i||(i=r.schedule(c,n),s.add(i))},()=>{l(),s.complete()},void 0,()=>{a=i=null}))})}(1e3),(0,V.q)(1),(0,R.w)(s=>this.http.post(D+"/users/check-username",{username:t.value}).pipe((0,G.U)(i=>"isTaken"===i.data?{isTaken:!0}:null))))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(j.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function X(n,r){1&n&&(e.TgZ(0,"span",11),e._uU(1,"Password has to be at least 8 characters long!"),e.qZA())}function H(n,r){1&n&&(e.TgZ(0,"span",11),e._uU(1,"Passwords have to match!"),e.qZA())}function $(n,r){1&n&&(e.TgZ(0,"span"),e._UZ(1,"i",12),e.qZA())}let K=(()=>{class n{constructor(t,s,i,a){this.route=t,this.authService=s,this.router=i,this.customValidator=a,this.resetToken="",this.showButtonSpinner=!1,this.passwordResetForm=new o.cw({password:new o.NI(null,[o.kI.required,o.kI.minLength(8)]),confirmPassword:new o.NI(null,o.kI.required)}),this.passwordResetForm.setValidators(this.customValidator.comparePasswords())}ngOnInit(){this.resetToken=this.route.snapshot.paramMap.get("token")}onSubmit(){this.showButtonSpinner=!0,this.authSubscription=this.authService.resetPasswordSend(this.passwordResetForm.value.password,this.resetToken).subscribe({next:s=>{this.showButtonSpinner=!1,this.router.navigate(["/"])},error:s=>this.showButtonSpinner=!1})}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.gz),e.Y36(g.e),e.Y36(m.F0),e.Y36(v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-reset-password-form"]],decls:19,vars:5,consts:[[1,"reset-password-form-container"],["id","passwordResetForm",3,"formGroup","ngSubmit"],[1,"form-lead-text"],["for","password"],["formControlName","password","placeholder","Password","type","password","required","","name","password","id","password"],["class","help-block",4,"ngIf"],["for","confirmPassword"],["formControlName","confirmPassword","placeholder","Same Password Again","type","password","required","","name","confirmPassword","id","confirmPassword","minLength","8"],["id","sub-btn"],["type","submit","id","signup-submit","tabindex","11",1,"btn",3,"disabled"],[4,"ngIf"],[1,"help-block"],[1,"fa","fa-circle-o-notch","fa-spin"]],template:function(t,s){if(1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(2,"h4",2),e._uU(3,"Please enter a new password."),e.qZA(),e._UZ(4,"hr"),e.TgZ(5,"fieldset")(6,"label",3),e._uU(7,"Password:"),e.qZA(),e._UZ(8,"input",4),e.YNc(9,X,2,0,"span",5),e.qZA(),e.TgZ(10,"fieldset")(11,"label",6),e._uU(12,"Confirm Password:"),e.qZA(),e._UZ(13,"input",7),e.YNc(14,H,2,0,"span",5),e.qZA(),e.TgZ(15,"fieldset",8)(16,"button",9),e._uU(17,"Submit "),e.YNc(18,$,2,0,"span",10),e.qZA()()()()),2&t){let i,a;e.xp6(1),e.Q6J("formGroup",s.passwordResetForm),e.xp6(8),e.Q6J("ngIf",!(null!=(i=s.passwordResetForm.get("password"))&&i.valid)&&((null==(i=s.passwordResetForm.get("password"))?null:i.dirty)||(null==(i=s.passwordResetForm.get("password"))?null:i.touched))),e.xp6(5),e.Q6J("ngIf",null==(a=s.passwordResetForm.get("confirmPassword"))||null==a.errors?null:a.errors.notEquivalent),e.xp6(2),e.Q6J("disabled",!s.passwordResetForm.valid||s.showButtonSpinner),e.xp6(2),e.Q6J("ngIf",s.showButtonSpinner)}},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,o.Q7,p.O5],styles:[".reset-password-form-container[_ngcontent-%COMP%]{padding:5rem 3rem;background-color:#fbfbfb}#passwordResetForm[_ngcontent-%COMP%]{max-width:50rem}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:var(--red-color)}.help-block[_ngcontent-%COMP%]{display:block;text-align:left}@media only screen and (max-width: 599px){.reset-password-form-container[_ngcontent-%COMP%]{padding:3rem}#passwordResetForm[_ngcontent-%COMP%]{max-width:50rem}}"]}),n})();function ee(n,r){1&n&&(e.TgZ(0,"span",34),e._uU(1,"Please enter a valid username."),e.qZA())}function te(n,r){1&n&&(e.TgZ(0,"span",34),e._uU(1,"Username already exists, try another one!"),e.qZA())}function ne(n,r){1&n&&(e.TgZ(0,"span",34),e._uU(1,"Username already exists, try another one"),e.qZA())}function se(n,r){1&n&&(e.TgZ(0,"span",34),e._uU(1,"Password should be at least 8 characters long."),e.qZA())}function re(n,r){1&n&&(e.TgZ(0,"span",34),e._uU(1,"Passwords have to match!"),e.qZA())}function oe(n,r){1&n&&(e.TgZ(0,"span",34),e._uU(1,"Please enter a valid email."),e.qZA())}function ie(n,r){1&n&&(e.TgZ(0,"span",34),e._uU(1,"Email already used, try another one!"),e.qZA())}function ae(n,r){1&n&&(e.TgZ(0,"span"),e._UZ(1,"i",35),e.qZA())}let ue=(()=>{class n{constructor(t,s,i,a){this.customValidator=t,this.authService=s,this.router=i,this.document=a,this.showButtonSpinner=!1,this.signupForm=new o.cw({username:new o.NI(null,[o.kI.required],[this.customValidator.usernameValidator()]),password:new o.NI(null,[o.kI.required,o.kI.minLength(8)]),confirmPassword:new o.NI(null,o.kI.required),firstName:new o.NI(null,o.kI.required),lastName:new o.NI(null,o.kI.required),email:new o.NI(null,[o.kI.required,o.kI.email]),country:new o.NI(null,o.kI.required),address:new o.NI(null,o.kI.required),postal:new o.NI(null,o.kI.required),city:new o.NI(null,o.kI.required)}),this.signupForm.setValidators(this.customValidator.comparePasswords())}get username(){return this.signupForm.get("username")}ngOnInit(){this.document.documentElement.scrollTo(0,165)}onSubmit(){this.showButtonSpinner=!0,this.authSubscription=this.authService.signup({username:this.signupForm.value.username,firstName:this.signupForm.value.firstName,lastName:this.signupForm.value.lastName,email:this.signupForm.value.email,password:this.signupForm.value.password,address:{country:this.signupForm.value.country,city:this.signupForm.value.city,homeAddress:this.signupForm.value.address,postalCode:this.signupForm.value.postal}}).subscribe({next:s=>{this.showButtonSpinner=!1,this.router.navigate(["/"])},error:s=>{this.showButtonSpinner=!1,"Username taken"===s&&this.signupForm.controls.username.setErrors({usernameTaken:!0}),"Email already in use"===s&&this.signupForm.controls.email.setErrors({emailTaken:!0})}})}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v),e.Y36(g.e),e.Y36(m.F0),e.Y36(p.K0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-signup-form"]],decls:73,vars:10,consts:[["id","registerFormSection",1,"section","register-form","text-center"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-content-container"],[1,"form-heading"],[1,"form-lead-text"],["for","username"],["formControlName","username","placeholder","Username","type","text","tabindex","1","id","username","autofocus","","required",""],["class","help-block",4,"ngIf"],["for","password"],["formControlName","password","placeholder","Password","type","password","tabindex","2","required","","name","password","id","password","minLength","8"],["for","confirmPassword"],["formControlName","confirmPassword","placeholder","Same Password Again","type","password","tabindex","3","required","","name","confirmPassword","id","confirmPassword","minLength","8"],["for","firstName"],["formControlName","firstName","placeholder","First Name","type","text","tabindex","4","required","","name","firstName","id","firstName"],["for","lastName"],["formControlName","lastName","placeholder","Last Name","type","text","tabindex","5","required","","name","lastName","id","lastName"],["for","email"],["formControlName","email","placeholder","Your Email Address","type","email","tabindex","6","required","","email","","name","email","id","email"],["for","country"],["formControlName","country","placeholder","Your Country","type","text","tabindex","7","required","","name","country","id","country"],["for","address"],["formControlName","address","placeholder","Your Home Address","type","text","tabindex","8","required","","name","address","id","address"],["for","postal"],["formControlName","postal","placeholder","Your Zip or Postal Code","type","text","tabindex","9","required","","name","postal","id","postal"],["for","city"],["formControlName","city","placeholder","Your City","type","text","tabindex","10","required","","name","city","id","city"],["id","sub-btn"],["type","submit","id","signup-submit","tabindex","11",1,"btn",3,"disabled"],[4,"ngIf"],[1,"register-form-info"],[1,"text-red"],["routerLink","/info/terms",1,"register-form-info__link"],["routerLink","/info/privacy-policy",1,"register-form-info__link"],[1,"help-block"],[1,"fa","fa-circle-o-notch","fa-spin"]],template:function(t,s){if(1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(3,"div",3)(4,"h2",4),e._uU(5,"Sign up"),e.qZA(),e.TgZ(6,"h4",5),e._uU(7,"Congratulations on signing up with the One Buck Store. With hundreds of products on offer, we\u2019re confident you\u2019ll find exactly what you need. ."),e.qZA(),e.TgZ(8,"h4",5),e._uU(9,"All your data is completely confidential. It\u2019s not shared with 3rd parties, giving you full peace of mind whilst you browse on our site. "),e.qZA(),e._UZ(10,"hr"),e.TgZ(11,"fieldset")(12,"label",6),e._uU(13,"Username:"),e.qZA(),e._UZ(14,"input",7),e.YNc(15,ee,2,0,"span",8),e.YNc(16,te,2,0,"span",8),e.YNc(17,ne,2,0,"span",8),e.qZA(),e.TgZ(18,"fieldset")(19,"label",9),e._uU(20,"Password:"),e.qZA(),e._UZ(21,"input",10),e.YNc(22,se,2,0,"span",8),e.qZA(),e.TgZ(23,"fieldset")(24,"label",11),e._uU(25,"Confirm Password:"),e.qZA(),e._UZ(26,"input",12),e.YNc(27,re,2,0,"span",8),e.qZA(),e.TgZ(28,"fieldset")(29,"label",13),e._uU(30,"First Name:"),e.qZA(),e._UZ(31,"input",14),e.qZA(),e.TgZ(32,"fieldset")(33,"label",15),e._uU(34,"Last Name:"),e.qZA(),e._UZ(35,"input",16),e.qZA(),e.TgZ(36,"fieldset")(37,"label",17),e._uU(38,"Email:"),e.qZA(),e._UZ(39,"input",18),e.YNc(40,oe,2,0,"span",8),e.YNc(41,ie,2,0,"span",8),e.qZA(),e.TgZ(42,"fieldset")(43,"label",19),e._uU(44,"Country:"),e.qZA(),e._UZ(45,"input",20),e.qZA(),e.TgZ(46,"fieldset")(47,"label",21),e._uU(48,"Address:"),e.qZA(),e._UZ(49,"textarea",22),e.qZA(),e.TgZ(50,"fieldset")(51,"label",23),e._uU(52,"Zip/Postal Code:"),e.qZA(),e._UZ(53,"input",24),e.qZA(),e.TgZ(54,"fieldset")(55,"label",25),e._uU(56,"City:"),e.qZA(),e._UZ(57,"input",26),e.qZA(),e._uU(58,"- "),e.TgZ(59,"fieldset",27)(60,"button",28),e._uU(61,"Submit "),e.YNc(62,ae,2,0,"span",29),e.qZA()(),e.TgZ(63,"div",30)(64,"span",31),e._uU(65,"*"),e.qZA(),e._uU(66," By creating your account, you agree to our "),e.TgZ(67,"a",32),e._uU(68,"Terms and Conditions"),e.qZA(),e._uU(69," & "),e.TgZ(70,"a",33),e._uU(71,"Privacy Policy"),e.qZA(),e._uU(72,"."),e.qZA()()()()()),2&t){let i,a,d,l,c;e.xp6(2),e.Q6J("formGroup",s.signupForm),e.xp6(13),e.Q6J("ngIf",!(null!=(i=s.signupForm.get("username"))&&i.valid)&&((null==(i=s.signupForm.get("username"))?null:i.dirty)||(null==(i=s.signupForm.get("username"))?null:i.touched))),e.xp6(1),e.Q6J("ngIf",null==(a=s.signupForm.get("username"))||null==a.errors?null:a.errors.usernameTaken),e.xp6(1),e.Q6J("ngIf",null==s.username||null==s.username.errors?null:s.username.errors.isTaken),e.xp6(5),e.Q6J("ngIf",null==s.signupForm.controls.password.errors?null:s.signupForm.controls.password.errors.minlength),e.xp6(5),e.Q6J("ngIf",null==(d=s.signupForm.get("confirmPassword"))||null==d.errors?null:d.errors.notEquivalent),e.xp6(13),e.Q6J("ngIf",!(null!=(l=s.signupForm.get("email"))&&l.valid)&&((null==(l=s.signupForm.get("email"))?null:l.dirty)||(null==(l=s.signupForm.get("email"))?null:l.touched))),e.xp6(1),e.Q6J("ngIf",null==(c=s.signupForm.get("email"))||null==c.errors?null:c.errors.emailTaken),e.xp6(19),e.Q6J("disabled",!s.signupForm.valid||s.showButtonSpinner),e.xp6(2),e.Q6J("ngIf",s.showButtonSpinner)}},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,o.Q7,p.O5,o.on,m.yS],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:var(--red-color)}.help-block[_ngcontent-%COMP%]{display:block;text-align:left}"]}),n})();var U=u(2785),b=u(900),x=u(3797);function le(n,r){1&n&&e._UZ(0,"div",2)}function de(n,r){1&n&&(e.ynx(0),e.TgZ(1,"h2",7),e._uU(2,"Oh no! Your cart is currently empty. "),e.TgZ(3,"a",8),e._uU(4,"Click Here"),e.qZA(),e._uU(5," to browse our products and find the one for you."),e.qZA(),e.BQk())}function ce(n,r){if(1&n&&e._UZ(0,"app-product-card",12),2&n){const t=r.$implicit,s=e.oxw(3);e.Q6J("sale",t)("userWishlist",s.userWishlist)("userId",s.userId)("isAuthenticated",s.isAuthenticated)}}function pe(n,r){if(1&n&&(e.TgZ(0,"h2",9),e._uU(1,"You\u2019re only a few clicks away from a chance to win your dream product. "),e.qZA(),e.TgZ(2,"div",10),e.YNc(3,ce,1,4,"app-product-card",11),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.cartProds)}}function me(n,r){if(1&n&&(e.TgZ(0,"section",3)(1,"div",4),e.YNc(2,de,6,0,"ng-container",5),e.YNc(3,pe,4,1,"ng-template",null,6,e.W1O),e.qZA()()),2&n){const t=e.MAs(4),s=e.oxw();e.xp6(2),e.Q6J("ngIf",0===s.cartProds.length)("ngIfElse",t)}}let he=(()=>{class n{constructor(t,s){this.userService=t,this.appService=s,this.cartProds=[],this.isAuthenticated=!1,this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.userSubscription=this.userService.getCart().subscribe(t=>{this.isLoading=!1,this.cartProds=t.data},t=>this.isLoading=!1),this.authSubscription=this.appService.user$.subscribe(t=>{t?(this.userWishlist=t.wishlist,this.userId=t._id):this.userWishlist=[],this.isAuthenticated=!!t})}ngOnDestroy(){this.userSubscription.unsubscribe(),this.authSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(U.K),e.Y36(b.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-cart"]],decls:2,vars:2,consts:[["class","loader",4,"ngIf"],["class","section user-cart","id","userCart",4,"ngIf"],[1,"loader"],["id","userCart",1,"section","user-cart"],[1,"container"],[4,"ngIf","ngIfElse"],["imaGi",""],[1,"section__main-heading","user-wishlist__heading","text-center"],["routerLink","/shop/products",1,"user-wishlist__link"],[1,"section__main-heading","text-center","user-cart__heading"],[1,"user-cart__content-box"],[3,"sale","userWishlist","userId","isAuthenticated",4,"ngFor","ngForOf"],[3,"sale","userWishlist","userId","isAuthenticated"]],template:function(t,s){1&t&&(e.YNc(0,le,1,0,"div",0),e.YNc(1,me,5,2,"section",1)),2&t&&(e.Q6J("ngIf",s.isLoading),e.xp6(1),e.Q6J("ngIf",!s.isLoading))},directives:[p.O5,m.yS,p.sg,x.Y],styles:[""]}),n})();function fe(n,r){1&n&&(e.TgZ(0,"span",14),e._uU(1,"Password should be at least 8 characters long"),e.qZA())}function ge(n,r){1&n&&(e.TgZ(0,"span",14),e._uU(1,"Passwords have to match!"),e.qZA())}let _e=(()=>{class n{constructor(t,s,i){this.customValidator=t,this.authService=s,this.alertsService=i,this.changePasswordForm=new o.cw({currentPassword:new o.NI(null,o.kI.required),password:new o.NI(null,[o.kI.required,o.kI.minLength(8)]),confirmPassword:new o.NI(null,o.kI.required)}),this.changePasswordForm.setValidators(this.customValidator.comparePasswords())}ngOnInit(){}onSubmit(){const{currentPassword:t,password:s}=this.changePasswordForm.value;this.authSubscription=this.authService.updatePassword(t,s).subscribe(i=>{this.changePasswordForm.reset(),this.alertsService.addSuccess("Password successfully changed!")})}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v),e.Y36(g.e),e.Y36(y.m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-change-password"]],decls:24,vars:4,consts:[[1,"change-password-form-container"],[3,"formGroup","ngSubmit"],[1,"change-password-form-content-container"],[1,"form-heading"],[1,"form-lead-text"],["for","currentPassword"],["formControlName","currentPassword","placeholder","Password","type","password","tabindex","5","required","","name","currentPassword","id","currentPassword","minLength","8"],["for","password"],["formControlName","password","placeholder","Password","type","password","tabindex","5","required","","name","password","id","password","minLength","8"],["class","help-block",4,"ngIf"],["for","confirmPassword"],["formControlName","confirmPassword","placeholder","Same Password Again","type","password","tabindex","6","required","","name","confirmPassword","id","confirmPassword","minLength","8"],["id","sub-btn"],["type","submit","id","change-password-submit","tabindex","11",3,"disabled"],[1,"help-block"]],template:function(t,s){if(1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(2,"div",2)(3,"h3",3),e._uU(4,"Change Password"),e.qZA(),e.TgZ(5,"h4",4),e._uU(6," Please fill out the following fields to change password. "),e.qZA(),e.TgZ(7,"fieldset")(8,"label",5),e._uU(9,"Current password:"),e.qZA(),e._UZ(10,"input",6),e.qZA(),e.TgZ(11,"fieldset")(12,"label",7),e._uU(13,"New password:"),e.qZA(),e._UZ(14,"input",8),e.YNc(15,fe,2,0,"span",9),e.qZA(),e.TgZ(16,"fieldset")(17,"label",10),e._uU(18,"Confirm Password:"),e.qZA(),e._UZ(19,"input",11),e.YNc(20,ge,2,0,"span",9),e.qZA(),e.TgZ(21,"fieldset",12)(22,"button",13),e._uU(23," Submit "),e.qZA()()()()()),2&t){let i;e.xp6(1),e.Q6J("formGroup",s.changePasswordForm),e.xp6(14),e.Q6J("ngIf",null==s.changePasswordForm.controls.password.errors?null:s.changePasswordForm.controls.password.errors.minlength),e.xp6(5),e.Q6J("ngIf",null==(i=s.changePasswordForm.get("confirmPassword"))||null==i.errors?null:i.errors.notEquivalent),e.xp6(2),e.Q6J("disabled",!s.changePasswordForm.valid)}},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,o.Q7,p.O5],styles:["button[_ngcontent-%COMP%]:disabled{background-color:#2597dd66;color:var(--light-gray);cursor:auto}button[_ngcontent-%COMP%]:disabled:hover{background-color:#2597dd66;color:var(--light-gray);cursor:auto}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:var(--red-color)}.help-block[_ngcontent-%COMP%]{display:block;text-align:left}.change-password-form-container[_ngcontent-%COMP%]{padding:2rem}.change-password-form-content-container[_ngcontent-%COMP%]{padding:2rem;background-color:#f7f7f7}h3.form-heading[_ngcontent-%COMP%]{font-size:1.8rem}@media only screen and (max-width: 599px){h3.form-heading[_ngcontent-%COMP%]{font-size:1.6rem}}"]}),n})();function be(n,r){1&n&&e._UZ(0,"i",25)}function we(n,r){1&n&&e._UZ(0,"i",26)}function ye(n,r){1&n&&(e.TgZ(0,"span"),e._UZ(1,"i",32),e.qZA())}function ve(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"fieldset",27)(2,"button",28),e._uU(3,"Submit "),e.YNc(4,ye,2,0,"span",29),e.qZA()(),e.TgZ(5,"fieldset",30)(6,"button",31),e.NdJ("click",function(){return e.CHM(t),e.oxw().onCancelEditMode()}),e._uU(7,"Cancel"),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.editUserForm.valid||t.showButtonSpinner),e.xp6(2),e.Q6J("ngIf",t.showButtonSpinner)}}function Ce(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset",30)(1,"button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().onEnterEditMode()}),e._uU(2,"Edit"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.showButtonSpinner)}}let Ze=(()=>{class n{constructor(t,s,i,a){this.appService=t,this.authService=s,this.router=i,this.alertsService=a,this.editMode=!1,this.showButtonSpinner=!1,this.editUserForm=new o.cw({firstName:new o.NI(null,o.kI.required),lastName:new o.NI(null,o.kI.required),country:new o.NI(null,o.kI.required),homeAddress:new o.NI(null,o.kI.required),postalCode:new o.NI(null,o.kI.required),city:new o.NI(null,o.kI.required)})}ngOnInit(){this.editMode||this.editUserForm.disable(),this.userSubscription=this.appService.user$.subscribe(t=>{t?(this.user=t,this.setFormValues()):this.router.navigateByUrl("/")})}onSubmit(){this.showButtonSpinner=!0,this.userSubscription=this.authService.updateUser(this.editUserForm.value,this.user._id).subscribe({next:t=>{this.alertsService.addSuccess("Your data was edited successfully!"),this.showButtonSpinner=!1,this.onCancelEditMode()},error:t=>this.showButtonSpinner=!1})}setFormValues(){this.user&&this.editUserForm.patchValue({firstName:this.user.firstName,lastName:this.user.lastName,country:this.user.address.country,city:this.user.address.city,homeAddress:this.user.address.homeAddress,postalCode:this.user.address.postalCode||""})}onEnterEditMode(){this.editMode=!0,this.editUserForm.enable()}onCancelEditMode(){this.editMode=!1,this.editUserForm.reset(),this.setFormValues(),this.editUserForm.disable()}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe(),this.updateSubscription&&this.updateSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.z),e.Y36(g.e),e.Y36(m.F0),e.Y36(y.m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-settings"]],decls:43,vars:9,consts:[[1,"section","user-edit-form-section","text-center"],[1,"container"],[1,"euf-part-2"],[1,"user-edit-form-container"],["id","editUserForm",3,"formGroup","ngSubmit"],["id","user-edit-form-content-container"],[1,"form-heading"],["class","fas fa-user",4,"ngIf"],["class","fas fa-user-edit",4,"ngIf"],[1,"form-lead-text"],["for","firstName"],["formControlName","firstName","placeholder","First Name","type","text","tabindex","5","required","","name","firstName","id","firstName"],["for","lastName"],["formControlName","lastName","placeholder","Last Name","type","text","tabindex","6","required","","name","lastName","id","lastName"],["for","country"],["formControlName","country","placeholder","Your Country","type","text","tabindex","8","required","","name","country","id","country"],["for","homeAddress"],["formControlName","homeAddress","placeholder","Your Home Address","type","text","tabindex","9","required","","name","homeAddress","id","homeAddress"],["for","postalCode"],["formControlName","postalCode","placeholder","Your Zip or Postal Code","type","text","tabindex","10","required","","name","postalCode","id","postalCode"],["for","city"],["formControlName","city","placeholder","Your City","type","text","tabindex","11","required","","name","city","id","city"],[4,"ngIf","ngIfElse"],["editBtn",""],[1,"euf-part-1"],[1,"fas","fa-user"],[1,"fas","fa-user-edit"],["id","sub-btn"],["type","submit","tabindex","13","id","edit-user-submit-btn",3,"disabled"],[4,"ngIf"],["id","edit-btn"],["type","button","tabindex","14",1,"btn","btn-red",3,"click"],[1,"fa","fa-circle-o-notch","fa-spin"],["type","button","id","editUserBtn","tabindex","13",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,s){if(1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(5,"div",5)(6,"h2",6)(7,"span"),e.YNc(8,be,1,0,"i",7),e.YNc(9,we,1,0,"i",8),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"h4",9),e._uU(12),e.qZA(),e._UZ(13,"hr"),e.TgZ(14,"fieldset")(15,"label",10),e._uU(16,"First Name:"),e.qZA(),e._UZ(17,"input",11),e.qZA(),e.TgZ(18,"fieldset")(19,"label",12),e._uU(20,"Last Name:"),e.qZA(),e._UZ(21,"input",13),e.qZA(),e.TgZ(22,"fieldset")(23,"label",14),e._uU(24,"Country:"),e.qZA(),e._UZ(25,"input",15),e.qZA(),e.TgZ(26,"fieldset")(27,"label",16),e._uU(28,"Address:"),e.qZA(),e._UZ(29,"textarea",17),e.qZA(),e.TgZ(30,"fieldset")(31,"label",18),e._uU(32,"Zip/Postal Code:"),e.qZA(),e._UZ(33,"input",19),e.qZA(),e.TgZ(34,"fieldset")(35,"label",20),e._uU(36,"City:"),e.qZA(),e._UZ(37,"input",21),e.qZA(),e.YNc(38,ve,8,2,"ng-container",22),e.YNc(39,Ce,3,1,"ng-template",null,23,e.W1O),e.qZA()()()(),e.TgZ(41,"div",24),e._UZ(42,"app-change-password"),e.qZA()()()),2&t){const i=e.MAs(40);e.xp6(4),e.Q6J("formGroup",s.editUserForm),e.xp6(3),e.ekj("editing",s.editMode),e.xp6(1),e.Q6J("ngIf",!s.editMode),e.xp6(1),e.Q6J("ngIf",s.editMode),e.xp6(1),e.hij(" ",s.user.username,""),e.xp6(2),e.Oqu(s.user.email),e.xp6(26),e.Q6J("ngIf",s.editMode)("ngIfElse",i)}},directives:[o._Y,o.JL,o.sg,p.O5,o.Fj,o.JJ,o.u,o.Q7,_e],styles:[".user-edit-form-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%;padding:1rem;border-radius:.5rem}.user-edit-form-container[_ngcontent-%COMP%]{width:100%;padding:2rem}#user-edit-form-content-container[_ngcontent-%COMP%]{padding:2rem}.user-edit-form-section[_ngcontent-%COMP%]{background:#fbfbfb}.user-edit-form-section[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%]{padding:0 2rem 2rem;display:flex;justify-content:space-around;width:100%}.euf-part-2[_ngcontent-%COMP%]{flex:1.5}.euf-part-1[_ngcontent-%COMP%]{flex:1}#editUserForm[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{border:1px solid #FBFBFB;background:#FBFBFB}#editUserForm[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{border:1px solid #FBFBFB;background:#FBFBFB}.editing[_ngcontent-%COMP%]{color:var(--red-color)}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}#edit-user-submit-btn[_ngcontent-%COMP%]:disabled{background-color:#2597dd66;color:var(--light-gray);cursor:auto}#edit-user-submit-btn[_ngcontent-%COMP%]:disabled:hover{background-color:#2597dd66;color:var(--light-gray);cursor:auto}@media only screen and (max-width: 899px){.user-edit-form-section[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%]{flex-direction:column}.euf-part-1[_ngcontent-%COMP%], .euf-part-2[_ngcontent-%COMP%]{padding:0 4rem}}@media only screen and (max-width: 599px){.user-edit-form-container[_ngcontent-%COMP%], #user-edit-form-content-container[_ngcontent-%COMP%]{padding:1rem}.user-edit-form-section[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%]{padding:1rem}.euf-part-1[_ngcontent-%COMP%], .euf-part-2[_ngcontent-%COMP%]{padding:0 1rem}}"]}),n})();function Pe(n,r){1&n&&e._UZ(0,"div",2)}function Ue(n,r){1&n&&(e.ynx(0),e.TgZ(1,"h2",7),e._uU(2,"If you had 1 wish, what would it be? "),e.TgZ(3,"a",8),e._uU(4,"Click Here"),e.qZA(),e._uU(5," to find that product and add it to your Wishlist!"),e.qZA(),e.BQk())}function xe(n,r){if(1&n&&e._UZ(0,"app-product-card",12),2&n){const t=r.$implicit,s=e.oxw(3);e.Q6J("sale",t)("userWishlist",s.userWishlist)("userId",s.userId)("isAuthenticated",s.isAuthenticated)}}function Ae(n,r){if(1&n&&(e.TgZ(0,"h2",9),e._uU(1,"Your dreams are waiting to come true."),e.qZA(),e.TgZ(2,"div",10),e.YNc(3,xe,1,4,"app-product-card",11),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.wishlistedProds)}}function Se(n,r){if(1&n&&(e.TgZ(0,"section",3)(1,"div",4),e.YNc(2,Ue,6,0,"ng-container",5),e.YNc(3,Ae,4,1,"ng-template",null,6,e.W1O),e.qZA()()),2&n){const t=e.MAs(4),s=e.oxw();e.xp6(2),e.Q6J("ngIf",0===s.wishlistedProds.length)("ngIfElse",t)}}let Ie=(()=>{class n{constructor(t,s){this.userService=t,this.appService=s,this.wishlistedProds=[],this.isAuthenticated=!1,this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.userSubscription=this.userService.getUserWishlistProducts().subscribe(t=>{this.wishlistedProds=t.data,this.isLoading=!1}),this.authSubscription=this.appService.user$.subscribe(t=>{t?(this.userWishlist=t.wishlist,this.userId=t._id):this.userWishlist=[],this.isAuthenticated=!!t})}ngOnDestroy(){this.userSubscription.unsubscribe(),this.authSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(U.K),e.Y36(b.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-wishlist"]],decls:2,vars:2,consts:[["class","loader",4,"ngIf"],["class","section user-wishlist","id","userWishlist",4,"ngIf"],[1,"loader"],["id","userWishlist",1,"section","user-wishlist"],[1,"container"],[4,"ngIf","ngIfElse"],["imagi",""],[1,"section__main-heading","user-wishlist__heading","text-center"],["routerLink","/shop/products",1,"user-wishlist__link"],[1,"section__main-heading","text-center","user-wishlist__heading"],[1,"user-wishlist__content-box"],[3,"sale","userWishlist","userId","isAuthenticated",4,"ngFor","ngForOf"],[3,"sale","userWishlist","userId","isAuthenticated"]],template:function(t,s){1&t&&(e.YNc(0,Pe,1,0,"div",0),e.YNc(1,Se,5,2,"section",1)),2&t&&(e.Q6J("ngIf",s.isLoading),e.xp6(1),e.Q6J("ngIf",!s.isLoading))},directives:[p.O5,m.yS,p.sg,x.Y],styles:[""]}),n})();var Te=u(4466);let w=(()=>{class n{constructor(t,s){this.appService=t,this.router=s}canActivate(t,s){return!!this.appService.getIsAuth()||this.router.parseUrl("/home")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(b.z),e.LFG(m.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fe=[{path:"signup",component:ue},{path:"reset-password/:token",component:K},{path:"wishlist",canActivate:[w],component:Ie},{path:"me",canActivate:[w],component:Ze},{path:"points",canActivate:[w],component:N},{path:"cart",canActivate:[w],component:he}];let qe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez,o.UX,o.u5,m.Bz.forChild(Fe),Te.m]]}),n})()}}]);