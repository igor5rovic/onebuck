(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{jkDv:function(e,n,t){"use strict";t.r(n),t.d(n,"AdminModule",function(){return We});var r=t("ofXK"),i=t("3Pt+"),o=t("fXoL"),a=t("z6cu"),s=t("JIr8"),c=t("UXun"),d=t("lJxs"),b=t("AytR"),l=t("tk/3"),u=t("qvOR");const m=b.a.apiUrl;let p=(()=>{class e{constructor(e,n){this.http=e,this.messages=n}getAdminHomePage(){return this.http.get(m+"/admin/home").pipe(Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}getAdminUsersInfo(){return this.http.get(m+"/admin/home-users-info").pipe(Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}getProducts(){return this.http.get(m+"/admin/all-products").pipe(Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}addProduct(e){return this.http.post(m+"/admin/add-product",e).pipe(Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}editProduct(e,n){return this.http.patch(m+"/admin/edit-product",{editedProductId:e,newProductData:n}).pipe(Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}deleteProduct(e){return this.http.delete(m+"/admin/product/"+e).pipe(Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}getOpenSales(){return this.http.get(m+"/admin/open-sales").pipe(Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}getClosedSales(){return this.http.get(m+"/admin/closed-sales").pipe(Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}getFinishedSales(e,n){return this.http.get(m+`/admin/finished-sales?page=${e}&skip=${n}`).pipe(Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}createSale(e,n,t){return this.http.post(m+"/admin/create-sale",{productId:e,pointsSaleMin:n,pointsMin:t}).pipe(Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}editSale(e,n){return this.http.patch(m+"/admin/edit-sale",{editedSaleId:e,newSaleData:n}).pipe(Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}deleteSale(e){return this.http.delete(m+"/admin/admin-sales/"+e).pipe(Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}saleDetails(e){return this.http.get(m+"/admin/admin-sales/"+e).pipe(Object(d.a)(e=>e.data),Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}setSendProductStatus(e){return this.http.patch(m+"/admin/set-send-product",{saleId:e}).pipe(Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}getAllUsers(e,n){return this.http.get(m+`/users/all?page=${e}&skip=${n}`).pipe(Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}getForbiddenUsers(){return this.http.get(m+"/users/forbidden-users").pipe(Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}getUserDetails(e){return this.http.get(m+`/users/user/${e}`).pipe(Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}editUser(e,n){return console.log(n),this.http.patch(m+"/admin/edit-user",{userId:e,userData:n}).pipe(Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}deleteUser(e){return this.http.delete(m+`/admin/edit-user/${e}`).pipe(Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}getAllCategories(){return this.http.get(m+"/admin/categories").pipe(Object(d.a)(e=>e.data),Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}createNewCategory(e){return this.http.post(m+"/admin/categories",{category:e}).pipe(Object(s.a)(e=>{let n=e.error.message||"An unknown error occurred!";return this.messages.showMessages({msg:n,type:"error"}),Object(a.a)(n)}),Object(c.a)())}}return e.\u0275fac=function(n){return new(n||e)(o.Rb(l.b),o.Rb(u.a))},e.\u0275prov=o.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function g(e,n){if(1&e&&(o.Nb(0,"span",12),o.nc(1),o.Mb()),2&e){const e=n.$implicit;o.yb(1),o.oc(e)}}let f=(()=>{class e{constructor(e,n){this.adminService=e,this.messagesService=n,this.categories=[],this.categoryForm=new i.e({categoryName:new i.c(null,i.r.required)})}ngOnInit(){this.allCategoriesSubscription=this.adminService.getAllCategories().subscribe(e=>{const n=[];e.forEach(e=>{n.push(e.categoryName)}),this.categories=[...n]})}onSubmit(){this.newCategorySubscription=this.adminService.createNewCategory(this.categoryForm.value.categoryName).subscribe(e=>{this.messagesService.showMessages({msg:"Category successfully created",type:"success"})})}ngOnDestroy(){this.allCategoriesSubscription&&this.allCategoriesSubscription.unsubscribe(),this.newCategorySubscription&&this.newCategorySubscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(o.Ib(p),o.Ib(u.a))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-admin-category-form"]],decls:19,vars:3,consts:[[1,"admin-page"],[1,"admin-page-heading"],[1,"admin-form-container"],[1,"admin-form",3,"formGroup","ngSubmit"],[1,"admin-form-content-container"],["for","categoryName"],["type","text","required","","formControlName","categoryName","id","categoryName"],[1,"admin-form-controls"],["type","submit",1,"btn","btn-red","admin-form-btn",3,"disabled"],[1,"category-list-heading"],[1,"existing-category-names"],["class","category-name",4,"ngFor","ngForOf"],[1,"category-name"]],template:function(e,n){1&e&&(o.Nb(0,"div",0),o.Nb(1,"div",1),o.Nb(2,"h2"),o.nc(3,"Create new Category:"),o.Mb(),o.Mb(),o.Nb(4,"div",2),o.Nb(5,"form",3),o.Ub("ngSubmit",function(){return n.onSubmit()}),o.Nb(6,"div",4),o.Nb(7,"fieldset"),o.Nb(8,"label",5),o.nc(9,"Category Name:"),o.Mb(),o.Jb(10,"input",6),o.Mb(),o.Nb(11,"fieldset"),o.Nb(12,"div",7),o.Nb(13,"button",8),o.nc(14,"Save"),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Nb(15,"h3",9),o.nc(16,"Existing category names list:"),o.Mb(),o.Nb(17,"div",10),o.lc(18,g,2,1,"span",11),o.Mb(),o.Mb()),2&e&&(o.yb(5),o.ac("formGroup",n.categoryForm),o.yb(8),o.ac("disabled",!n.categoryForm.valid),o.yb(5),o.ac("ngForOf",n.categories))},directives:[i.t,i.j,i.f,i.a,i.p,i.i,i.d,r.l],styles:[".existing-category-names[_ngcontent-%COMP%]{padding:0 2rem;display:flex;flex-wrap:wrap}.category-name[_ngcontent-%COMP%]{font-size:1.6rem;padding:1rem;border:1px solid var(--primary-color);border-radius:.5rem;margin:.5rem 1rem}.category-list-heading[_ngcontent-%COMP%]{padding-left:2rem;padding-bottom:1rem;font-size:1.6rem}"]}),e})();var h=t("tyNb");const M=function(){return{saleStatus:"open"}},y=function(){return{saleStatus:"closed"}},N=function(){return{saleStatus:"finished"}};let P=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=o.Cb({type:e,selectors:[["app-admin-dashboard"]],decls:43,vars:6,consts:[[1,"admin-dashboard-container"],[1,"admin-menu-container"],[1,"admin-welcome"],[1,"admin-menu"],["routerLink","home","routerLinkActive","admin-menu-item-active",1,"admin-menu-link"],[1,"admin-menu-group-heading"],["routerLink","all-products","routerLinkActive","admin-menu-item-active",1,"admin-menu-link"],["routerLink","product-form","routerLinkActive","admin-menu-item-active",1,"admin-menu-link"],["routerLink","category-form","routerLinkActive","admin-menu-item-active",1,"admin-menu-link"],["routerLink","all-sales","routerLinkActive","admin-menu-item-active",1,"admin-menu-link",3,"queryParams"],["routerLink","users","routerLinkActive","admin-menu-item-active",1,"admin-menu-link"],["routerLink","forbidden-users","routerLinkActive","admin-menu-item-active",1,"admin-menu-link"],[1,"admin-menu-link"],[1,"admin-work-panel"]],template:function(e,n){1&e&&(o.Nb(0,"div",0),o.Nb(1,"div",1),o.Nb(2,"div",2),o.nc(3," Welcome Admin! "),o.Mb(),o.Nb(4,"ul",3),o.Nb(5,"li",4),o.Nb(6,"a"),o.nc(7,"Home"),o.Mb(),o.Mb(),o.Nb(8,"li",5),o.nc(9,"Products"),o.Mb(),o.Nb(10,"li",6),o.Nb(11,"a"),o.nc(12,"All Products"),o.Mb(),o.Mb(),o.Nb(13,"li",7),o.Nb(14,"a"),o.nc(15,"Create/Edit Product"),o.Mb(),o.Mb(),o.Nb(16,"li",8),o.Nb(17,"a"),o.nc(18,"Create New Category"),o.Mb(),o.Mb(),o.Nb(19,"li",5),o.nc(20,"Sales"),o.Mb(),o.Nb(21,"li",9),o.Nb(22,"a"),o.nc(23,"Open Sales"),o.Mb(),o.Mb(),o.Nb(24,"li",9),o.Nb(25,"a"),o.nc(26,"Closed Sales"),o.Mb(),o.Mb(),o.Nb(27,"li",9),o.Nb(28,"a"),o.nc(29,"Finished Sales"),o.Mb(),o.Mb(),o.Nb(30,"li",5),o.nc(31,"Users"),o.Mb(),o.Nb(32,"li",10),o.Nb(33,"a"),o.nc(34,"All Users"),o.Mb(),o.Mb(),o.Nb(35,"li",11),o.Nb(36,"a"),o.nc(37,"Forbidden Users"),o.Mb(),o.Mb(),o.Nb(38,"li",12),o.Nb(39,"a"),o.nc(40,"Edit User"),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Nb(41,"div",13),o.Jb(42,"router-outlet"),o.Mb(),o.Mb()),2&e&&(o.yb(21),o.ac("queryParams",o.dc(3,M)),o.yb(3),o.ac("queryParams",o.dc(4,y)),o.yb(3),o.ac("queryParams",o.dc(5,N)))},directives:[h.c,h.d,h.g],styles:['@import url("https://fonts.googleapis.com/css2?family=Quicksand&display=swap");.admin-dashboard-container[_ngcontent-%COMP%]{display:flex;font-family:Quicksand,sans-serif}.admin-menu-container[_ngcontent-%COMP%]{flex:1;background-image:linear-gradient(to right bottom,#263544,#2f3b48,#37414b,#40484f,#494e53);color:#c2c7d0;font-size:1.6rem;padding:2rem 1rem;font-weight:400}ul.admin-menu[_ngcontent-%COMP%]{margin-top:1rem}li.admin-menu-link[_ngcontent-%COMP%]{cursor:pointer;padding:.8rem 1rem .8rem 2.4rem;transition:all .2s}li.admin-menu-link[_ngcontent-%COMP%]:hover{background-image:linear-gradient(90deg,rgba(37,151,221,.5),rgba(37,151,221,.01))}li.admin-menu-link[_ngcontent-%COMP%]:focus{outline:none}li.admin-menu-link[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:link, li.admin-menu-link[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:visited{color:#c2c7d0}.admin-menu-item-active[_ngcontent-%COMP%]{background-image:linear-gradient(90deg,rgba(37,151,221,.2),rgba(37,151,221,.01));outline:none;color:#d9cabb;position:relative}.special-1[_ngcontent-%COMP%]{background-color:#695d37;color:#fff}.special-2[_ngcontent-%COMP%]{margin-top:.5rem;background-color:#694737;color:#fff}.admin-menu-item-active[_ngcontent-%COMP%]:before{content:"";background:rgba(37,151,221,.5);display:block;width:.5rem;height:100%;position:absolute;left:0;top:0}.admin-welcome[_ngcontent-%COMP%]{text-align:center;border-bottom:1px solid #4b545c;padding:3rem}.admin-work-panel[_ngcontent-%COMP%]{flex:4;background-color:#f2f7fb}.admin-menu-group-heading[_ngcontent-%COMP%]{padding:1rem;font-size:1.4rem}@media only screen and (max-width:899px){.admin-menu-container[_ngcontent-%COMP%]{font-size:1.4rem;padding:1.5rem}li.admin-menu-link[_ngcontent-%COMP%]{cursor:pointer;padding:.8rem .8rem .8rem 2rem}.admin-welcome[_ngcontent-%COMP%]{padding:2.5rem}}']}),e})();function O(e,n){if(1&e&&(o.Nb(0,"div",7),o.Nb(1,"div",1),o.Nb(2,"h5",2),o.nc(3,"Number Of Registered Customers:"),o.Mb(),o.Nb(4,"span",3),o.nc(5),o.Mb(),o.Mb(),o.Nb(6,"div",1),o.Nb(7,"h5",2),o.nc(8,"Number Of Customers That Spent Money:"),o.Mb(),o.Nb(9,"span",3),o.nc(10),o.Mb(),o.Mb(),o.Nb(11,"div",1),o.Nb(12,"h5",2),o.nc(13,"Average Customer Spending:"),o.Mb(),o.Nb(14,"span",3),o.nc(15),o.Xb(16,"currency"),o.Mb(),o.Mb(),o.Mb()),2&e){const e=o.Wb();o.yb(5),o.oc(e.numOfUsers),o.yb(5),o.oc(e.numOfUsersSpending),o.yb(5),o.oc(o.Yb(16,3,e.userAvgSpending))}}let C=(()=>{class e{constructor(e){this.adminService=e,this.showUserDetails=!1}ngOnInit(){this.getAdminHomePageSubscription=this.adminService.getAdminHomePage().subscribe(e=>{this.totalProductsSold=e.data.totalProductsSold,this.totalPointsSpentOnSoldProducts=e.data.totalPointsSpentOnSoldProducts,this.totalEarningsOnSoldProducts=e.data.totalEarningsOnSoldProducts,this.averageSaleLength=e.data.averageSaleLength}),this.getAdminUsersInfoSubscription=this.adminService.getAdminUsersInfo().subscribe(e=>{this.numOfUsers=e.data.numOfUsers,this.numOfUsersSpending=e.data.numOfUsersSpending,this.userAvgSpending=e.data.userAvgSpending})}onShowUserDetails(){this.showUserDetails=!this.showUserDetails}ngOnDestroy(){this.getAdminHomePageSubscription&&this.getAdminHomePageSubscription.unsubscribe(),this.getAdminUsersInfoSubscription&&this.getAdminUsersInfoSubscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(o.Ib(p))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-admin-home"]],decls:27,vars:9,consts:[[1,"section","admin-dashboard-section"],[1,"admin-dashboard-card"],[1,"admin-dashboard-card__heading"],[1,"admin-dashboard-card__info-tile"],[1,"user-details"],[1,"btn","btn-primary",3,"click"],["class","admin-dashboard-section",4,"ngIf"],[1,"admin-dashboard-section"]],template:function(e,n){1&e&&(o.Nb(0,"section",0),o.Nb(1,"div",1),o.Nb(2,"h5",2),o.nc(3,"Total Products Sold:"),o.Mb(),o.Nb(4,"span",3),o.nc(5),o.Mb(),o.Mb(),o.Nb(6,"div",1),o.Nb(7,"h5",2),o.nc(8,"Total Points Spent On Sold Products:"),o.Mb(),o.Nb(9,"span",3),o.nc(10),o.Xb(11,"currency"),o.Mb(),o.Mb(),o.Nb(12,"div",1),o.Nb(13,"h5",2),o.nc(14,"Total Earnings On Sold Products:"),o.Mb(),o.Nb(15,"span",3),o.nc(16),o.Xb(17,"currency"),o.Mb(),o.Mb(),o.Nb(18,"div",1),o.Nb(19,"h5",2),o.nc(20,"Average Sale Length:"),o.Mb(),o.Nb(21,"span",3),o.nc(22),o.Mb(),o.Mb(),o.Mb(),o.Nb(23,"div",4),o.Nb(24,"a",5),o.Ub("click",function(){return n.onShowUserDetails()}),o.nc(25,"Show Users Details"),o.Mb(),o.lc(26,O,17,5,"div",6),o.Mb()),2&e&&(o.yb(5),o.oc(n.totalProductsSold),o.yb(5),o.oc(o.Yb(11,5,n.totalPointsSpentOnSoldProducts)),o.yb(6),o.oc(o.Yb(17,7,n.totalEarningsOnSoldProducts)),o.yb(6),o.pc("",n.averageSaleLength," hours"),o.yb(4),o.ac("ngIf",n.showUserDetails))},directives:[r.m],pipes:[r.d],styles:[".user-details[_ngcontent-%COMP%]{padding:2rem}"]}),e})();var v=t("YFYL");function _(e,n){if(1&e&&(o.Nb(0,"option",23),o.nc(1),o.Mb()),2&e){const e=n.$implicit;o.bc("value",e),o.yb(1),o.oc(e)}}let S=(()=>{class e{constructor(e,n,t,r,o){this.adminService=e,this.router=n,this.route=t,this.shopService=r,this.location=o,this.editMode="false",this.categories=[],this.productForm=new i.e({title:new i.c("",i.r.required),price:new i.c("",i.r.required),description:new i.c("",i.r.required),imageUrl:new i.c("",i.r.required),infoLink:new i.c("",i.r.required),manufacturer:new i.c("",i.r.required),category:new i.c("",i.r.required)}),this.categoriesSubscription=this.adminService.getAllCategories().subscribe(e=>{const n=[];e.forEach(e=>{n.push(e.categoryName)}),this.categories=[...n]})}ngOnInit(){this.editMode=this.route.snapshot.queryParams.edit||!1,this.productId=this.route.snapshot.queryParams.productId||null,this.editMode&&this.setFormValues()}setFormValues(){this.getProductSubscription=this.shopService.getProduct(this.productId).subscribe(e=>{this.editedProductId=e.data.id,this.productForm.patchValue({title:e.data.title,price:e.data.price,description:e.data.description,imageUrl:e.data.imageUrl,infoLink:e.data.infoLink,manufacturer:e.data.manufacturer,category:e.data.category})})}onSubmit(){if("true"===this.editMode)return this.editProductSubscription=this.adminService.editProduct(this.editedProductId,this.productForm.value).subscribe(e=>{this.router.navigate(["/admin/dashboard/all-products"])},e=>console.log(e));this.addProductSubscription=this.adminService.addProduct(this.productForm.value).subscribe(e=>{this.router.navigate(["/admin/dashboard/all-products"])},e=>console.log(e))}onCancel(){this.location.back()}ngOnDestroy(){this.categoriesSubscription&&this.categoriesSubscription.unsubscribe(),this.getProductSubscription&&this.getProductSubscription.unsubscribe(),this.addProductSubscription&&this.addProductSubscription.unsubscribe(),this.editProductSubscription&&this.editProductSubscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(o.Ib(p),o.Ib(h.b),o.Ib(h.a),o.Ib(v.a),o.Ib(r.i))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-admin-product-form"]],decls:43,vars:3,consts:[[1,"admin-page"],[1,"admin-page-heading"],[1,"admin-form-container"],[1,"admin-form",3,"formGroup","ngSubmit"],[1,"admin-form-content-container"],["for","title"],["placeholder","Product Title","type","text","tabindex","4","required","","formControlName","title","id","title","autofocus",""],["for","price"],["placeholder","Product Price","type","number","tabindex","5","required","","formControlName","price","id","price"],["for","description"],["placeholder","Product Description","tabindex","6","required","","formControlName","description","id","description"],["for","imageUrl"],["placeholder","Product Image URL","type","url","tabindex","7","required","","formControlName","imageUrl","id","imageUrl"],["for","infoLink"],["placeholder","Product Info Link","type","url","tabindex","8","required","","formControlName","infoLink","id","infoLink"],["for","manufacturer"],["placeholder","Product Manufacturer","type","text","tabindex","9","required","","formControlName","manufacturer","id","manufacturer"],["for","category"],["tabindex","10","formControlName","category","id","category","size","1"],[3,"value",4,"ngFor","ngForOf"],[1,"admin-form-controls"],["type","submit",1,"btn","btn-red","admin-form-btn"],["type","button",1,"btn","btn-secondary","admin-form-btn",3,"click"],[3,"value"]],template:function(e,n){1&e&&(o.Nb(0,"div",0),o.Nb(1,"div",1),o.Nb(2,"h2"),o.nc(3),o.Mb(),o.Mb(),o.Nb(4,"div",2),o.Nb(5,"form",3),o.Ub("ngSubmit",function(){return n.onSubmit()}),o.Nb(6,"div",4),o.Nb(7,"fieldset"),o.Nb(8,"label",5),o.nc(9,"Title:"),o.Mb(),o.Jb(10,"input",6),o.Mb(),o.Nb(11,"fieldset"),o.Nb(12,"label",7),o.nc(13,"Price:"),o.Mb(),o.Jb(14,"input",8),o.Mb(),o.Nb(15,"fieldset"),o.Nb(16,"label",9),o.nc(17,"Description:"),o.Mb(),o.Nb(18,"textarea",10),o.nc(19,"            "),o.Mb(),o.Mb(),o.Nb(20,"fieldset"),o.Nb(21,"label",11),o.nc(22,"Image URL:"),o.Mb(),o.Jb(23,"input",12),o.Mb(),o.Nb(24,"fieldset"),o.Nb(25,"label",13),o.nc(26,"Info Link:"),o.Mb(),o.Jb(27,"input",14),o.Mb(),o.Nb(28,"fieldset"),o.Nb(29,"label",15),o.nc(30,"Manufacturer:"),o.Mb(),o.Jb(31,"input",16),o.Mb(),o.Nb(32,"fieldset"),o.Nb(33,"label",17),o.nc(34,"Category:"),o.Mb(),o.Nb(35,"select",18),o.lc(36,_,2,2,"option",19),o.Mb(),o.Mb(),o.Nb(37,"fieldset"),o.Nb(38,"div",20),o.Nb(39,"button",21),o.nc(40,"Save"),o.Mb(),o.Nb(41,"button",22),o.Ub("click",function(){return n.onCancel()}),o.nc(42,"Cancel"),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb()),2&e&&(o.yb(3),o.oc(n.editMode?"Edit Product":"Create New Product"),o.yb(2),o.ac("formGroup",n.productForm),o.yb(31),o.ac("ngForOf",n.categories))},directives:[i.t,i.j,i.f,i.a,i.p,i.i,i.d,i.n,i.q,r.l,i.m,i.s],styles:[""]}),e})();var w=t("7pHj");let k=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=o.Cb({type:e,selectors:[["app-admin-loading"]],decls:5,vars:0,consts:[[1,"spinner-box"],[1,"configure-border-1"],[1,"configure-core"],[1,"configure-border-2"]],template:function(e,n){1&e&&(o.Nb(0,"div",0),o.Nb(1,"div",1),o.Jb(2,"div",2),o.Mb(),o.Nb(3,"div",3),o.Jb(4,"div",2),o.Mb(),o.Mb())},styles:["@keyframes configure-clockwise{0%{transform:rotate(0)}25%{transform:rotate(90deg)}50%{transform:rotate(180deg)}75%{transform:rotate(270deg)}to{transform:rotate(1turn)}}@keyframes configure-xclockwise{0%{transform:rotate(45deg)}25%{transform:rotate(-45deg)}50%{transform:rotate(-135deg)}75%{transform:rotate(-225deg)}to{transform:rotate(-315deg)}}.configure-border-1[_ngcontent-%COMP%]{position:absolute;background:var(--primary-color);animation:configure-clockwise 3s ease-in-out 0s infinite alternate}.configure-border-1[_ngcontent-%COMP%], .configure-border-2[_ngcontent-%COMP%]{width:115px;height:115px;padding:3px;display:flex;justify-content:center;align-items:center}.configure-border-2[_ngcontent-%COMP%]{left:-115px;background:var(--secondary-color);transform:rotate(45deg);animation:configure-xclockwise 3s ease-in-out 0s infinite alternate}.configure-core[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#f2f7fb}.spinner-box[_ngcontent-%COMP%]{padding:5rem}"]}),e})();function I(e,n){1&e&&o.Jb(0,"i",25)}const x=function(e){return["../sale",e]};function U(e,n){if(1&e&&(o.Nb(0,"tr"),o.Nb(1,"td"),o.nc(2),o.Mb(),o.Nb(3,"td"),o.Nb(4,"a",22),o.nc(5),o.Mb(),o.Mb(),o.Nb(6,"td"),o.nc(7),o.Mb(),o.Nb(8,"td"),o.nc(9),o.Mb(),o.Nb(10,"td"),o.nc(11),o.Mb(),o.Nb(12,"td"),o.Nb(13,"span",23),o.lc(14,I,1,0,"i",24),o.Mb(),o.Mb(),o.Mb()),2&e){const e=n.$implicit,t=n.index;o.yb(2),o.oc(t+1),o.yb(2),o.ac("routerLink",o.ec(7,x,e.id)),o.yb(1),o.oc(e.id),o.yb(2),o.oc(e.open),o.yb(2),o.oc(e.currentPoints),o.yb(2),o.oc(e.pointsSaleMin),o.yb(3),o.ac("ngIf",e.warning)}}function A(e,n){if(1&e&&(o.Nb(0,"div",20),o.Nb(1,"table"),o.Nb(2,"thead"),o.Nb(3,"tr"),o.Nb(4,"th"),o.nc(5,"No"),o.Mb(),o.Nb(6,"th"),o.nc(7,"Sale ID"),o.Mb(),o.Nb(8,"th"),o.nc(9,"Open status?"),o.Mb(),o.Nb(10,"th"),o.nc(11,"Current Pts"),o.Mb(),o.Nb(12,"th"),o.nc(13,"Sale Pts Min"),o.Mb(),o.Nb(14,"th"),o.nc(15,"i"),o.Mb(),o.Mb(),o.Mb(),o.Nb(16,"tbody"),o.lc(17,U,15,9,"tr",21),o.Mb(),o.Mb(),o.Mb()),2&e){const e=o.Wb();o.yb(17),o.ac("ngForOf",e.product.sales)}}function F(e,n){if(1&e){const e=o.Ob();o.Nb(0,"div",26),o.Nb(1,"form",27),o.Ub("ngSubmit",function(){return o.ic(e),o.Wb().onSubmit()}),o.Nb(2,"div",28),o.Nb(3,"h2",29),o.nc(4,"Create Sale"),o.Mb(),o.Nb(5,"fieldset"),o.Nb(6,"label",30),o.nc(7,"Minimun Points for Sale:"),o.Mb(),o.Jb(8,"input",31),o.Mb(),o.Nb(9,"fieldset"),o.Nb(10,"label",32),o.nc(11,"Minimum Points per Customer:"),o.Mb(),o.Jb(12,"input",33),o.Mb(),o.Nb(13,"fieldset"),o.Nb(14,"button",34),o.nc(15,"Submit"),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb()}if(2&e){const e=o.Wb();o.yb(1),o.ac("formGroup",e.createSaleForm)}}const j=function(){return["/admin/dashboard/product-form"]},D=function(e){return{edit:!0,productId:e}};let W=(()=>{class e{constructor(e,n){this.adminService=e,this.router=n,this.noOpenSales=!0,this.showCreateSaleForm=!1,this.showSalesTable=!1,this.createSaleForm=new i.e({pointsSaleMin:new i.c("",i.r.required),pointsMin:new i.c("1",i.r.required)})}onCreateNewSale(){this.showCreateSaleForm=!this.showCreateSaleForm}onShowProductSales(){this.showSalesTable=!this.showSalesTable}onSubmit(){this.createSaleSubscription=this.adminService.createSale(this.product.id,+this.createSaleForm.value.pointsSaleMin,+this.createSaleForm.value.pointsMin).subscribe()}onDelete(){confirm("Do you want to delete this product? Are you sure?")&&(this.deleteProductSubscription=this.adminService.deleteProduct(this.product.id).subscribe(e=>{this.reloadComponent()}))}reloadComponent(){let e=this.router.url;this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigate([e])}ngOnInit(){this.recommendedSalePrice=Math.ceil(1.3*this.product.price),this.createSaleForm.patchValue({pointsSaleMin:this.recommendedSalePrice});for(let e of this.product.sales)(!1===e.emailToWinnerSent||!1===e.productSent)&&e.pointsSaleMin<=e.currentPoints&&(e.warning=!0);this.openSalesNum=this.product.sales.filter(e=>!0===e.open).length}ngOnDestroy(){this.createSaleSubscription&&this.createSaleSubscription.unsubscribe(),this.deleteProductSubscription&&this.deleteProductSubscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(o.Ib(p),o.Ib(h.b))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-admin-product-card"]],inputs:{product:"product"},decls:45,vars:17,consts:[[1,"admin-product-card"],[1,"admin-product-card-heading"],[1,"open-sales-info"],[1,"admin-product-card_top"],[1,"admin-product-card__image"],[3,"src","alt"],[1,"admin-product-card__description"],[1,"admin-product-card_info"],[1,"admin-product-card_info-card"],[1,"admin-product-card_info-card--text"],[1,"admin-product-card_info-card--heading"],["target","_blank",1,"admin-product-card__link",3,"href"],[1,"admin-product-card-controls"],[1,"btn","admin-btn-primary","admin-product-card-btn",3,"click"],[1,"btn","admin-btn-secondary","admin-product-card-btn",3,"click"],[1,"btn","btn-ternary","admin-product-card-btn",3,"routerLink","queryParams"],[1,"btn","btn-red","admin-product-card-btn",3,"click"],[1,"admin-product-card_bottom"],["class","admin-product-sales-table",4,"ngIf"],["class","create-sale-form-container",4,"ngIf"],[1,"admin-product-sales-table"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"warning-info"],["class","fas fa-exclamation-circle",4,"ngIf"],[1,"fas","fa-exclamation-circle"],[1,"create-sale-form-container"],[3,"formGroup","ngSubmit"],[1,"create-sale-form-content-container"],[1,"create-sale-form-heading"],["for","createSalePointsSaleMin"],["type","number","required","","formControlName","pointsSaleMin","id","createSalePointsSaleMin","autofocus",""],["for","createSalePointsMin"],["type","number","required","","formControlName","pointsMin","id","createSalePointsMin"],["type","submit",1,"btn","admin-btn-secondary","admin-product-card-btn"]],template:function(e,n){1&e&&(o.Nb(0,"div",0),o.Nb(1,"h1",1),o.nc(2),o.Nb(3,"span",2),o.nc(4),o.Mb(),o.Mb(),o.Nb(5,"div",3),o.Nb(6,"div",4),o.Jb(7,"img",5),o.Mb(),o.Nb(8,"div",6),o.Nb(9,"p"),o.nc(10),o.Mb(),o.Mb(),o.Nb(11,"div",7),o.Nb(12,"div",8),o.Nb(13,"p",9),o.nc(14,"Price:"),o.Mb(),o.Nb(15,"h4",10),o.nc(16),o.Mb(),o.Mb(),o.Nb(17,"div",8),o.Nb(18,"p",9),o.nc(19,"Category:"),o.Mb(),o.Nb(20,"h4",10),o.nc(21),o.Mb(),o.Mb(),o.Nb(22,"div",8),o.Nb(23,"p",9),o.nc(24,"Manufacturer:"),o.Mb(),o.Nb(25,"h4",10),o.nc(26),o.Mb(),o.Mb(),o.Nb(27,"div",8),o.Nb(28,"p",9),o.nc(29,"More info:"),o.Mb(),o.Nb(30,"h4",10),o.Nb(31,"a",11),o.nc(32,"Info"),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Nb(33,"div",12),o.Nb(34,"button",13),o.Ub("click",function(){return n.onShowProductSales()}),o.nc(35),o.Mb(),o.Nb(36,"button",14),o.Ub("click",function(){return n.onCreateNewSale()}),o.nc(37,"Create New Sale"),o.Mb(),o.Nb(38,"a",15),o.nc(39," Edit "),o.Mb(),o.Nb(40,"button",16),o.Ub("click",function(){return n.onDelete()}),o.nc(41,"delete"),o.Mb(),o.Mb(),o.Nb(42,"div",17),o.lc(43,A,18,1,"div",18),o.lc(44,F,16,1,"div",19),o.Mb(),o.Mb()),2&e&&(o.yb(2),o.pc("",n.product.title," "),o.yb(2),o.pc(" - Open sales: ",n.openSalesNum,""),o.yb(3),o.bc("src",n.product.imageUrl,o.jc),o.cc("alt","",n.product.title," image"),o.yb(3),o.oc(n.product.description),o.yb(6),o.pc(" ",n.product.price," "),o.yb(5),o.pc(" ",n.product.category," "),o.yb(5),o.pc(" ",n.product.manufacturer," "),o.yb(5),o.bc("href",n.product.infoLink,o.jc),o.yb(4),o.pc("Show Sales (",n.product.sales.length,")"),o.yb(3),o.ac("routerLink",o.dc(14,j))("queryParams",o.ec(15,D,n.product.id)),o.yb(5),o.ac("ngIf",n.showSalesTable),o.yb(1),o.ac("ngIf",n.showCreateSaleForm))},directives:[h.e,r.m,r.l,i.t,i.j,i.f,i.n,i.a,i.p,i.i,i.d],styles:[".admin-product-card[_ngcontent-%COMP%]{margin:1.5rem 2rem;background-color:#fff;box-shadow:0 8px 16px 0 rgba(0,0,0,.2)}.admin-product-card__image[_ngcontent-%COMP%]{height:20rem;width:20rem;display:inline-block;padding:1rem;margin:0 auto;grid-row-start:1;grid-row-end:3}.admin-product-card__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:contain;overflow:hidden}.admin-product-card__heading[_ngcontent-%COMP%]{padding-top:.3rem;padding-bottom:1rem;padding-left:1rem;font-size:1.4rem;display:block;margin:0}.admin-product-card__link[_ngcontent-%COMP%]{display:block;padding-left:1rem;margin-top:.3rem;font-size:1.6rem;color:var(--ternary-color)}.admin-product-card__link[_ngcontent-%COMP%]:hover{text-decoration:underline}.admin-product-card_bottom[_ngcontent-%COMP%]{display:flex;border-top:2px solid #f4f4f4}.admin-product-sales-table[_ngcontent-%COMP%]{padding:1rem 3rem 2rem;font-size:1.4rem;display:inline-block}.admin-product-sales-table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link{text-decoration:none;color:#694737}.admin-product-sales-table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#694737}.admin-product-sales-table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#695d37}.admin-product-sales-table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#694737}.admin-product-sales-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;font-size:1.4rem;min-width:400px;box-shadow:0 0 20px rgba(0,0,0,.15);text-align:center}.admin-product-sales-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#694737;color:#fff;text-align:center}.admin-product-sales-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .admin-product-sales-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem 1.2rem}.admin-product-sales-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.admin-product-sales-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{font-weight:600}.admin-product-sales-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(2n){background-color:#f3f3f3}.admin-product-sales-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-of-type{border-bottom:2px solid #694737}.admin-product-sales-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.active-row[_ngcontent-%COMP%]{font-weight:700;color:#009879}.admin-product-card_info[_ngcontent-%COMP%]{grid-row-start:2;grid-row-end:3;grid-column-start:2;grid-column-end:3}.admin-product-card_info-card[_ngcontent-%COMP%]{padding:.6rem 1.2rem;margin:1rem;background-color:#fff;display:inline-block;box-shadow:0 8px 16px 0 rgba(0,0,0,.2)}.admin-product-card_info-card--text[_ngcontent-%COMP%]{font-size:1.4rem}.admin-product-card_info-card--heading[_ngcontent-%COMP%]{font-size:1.6rem;margin:0}.admin-product-card__description[_ngcontent-%COMP%]{grid-row-start:1;grid-row-end:2;grid-column-start:2;grid-column-end:3}.admin-product-card__description[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:1.4rem}.admin-product-card_top[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 3fr;grid-gap:1rem}.admin-product-card-heading[_ngcontent-%COMP%]{margin:0;padding:1rem}.admin-product-card-controls[_ngcontent-%COMP%]{padding:1rem 2rem}.admin-product-card-btn[_ngcontent-%COMP%]{display:inline-block;margin:0 1rem;padding:1rem 3rem}.admin-btn-primary[_ngcontent-%COMP%]{background-color:#694737}.admin-btn-secondary[_ngcontent-%COMP%]{background-color:#695d37}.create-sale-form-container[_ngcontent-%COMP%]{text-align:center;display:inline-block;padding:1rem;min-width:300px}.create-sale-form-container[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{box-shadow:0 0 20px rgba(0,0,0,.15);background-color:#fbfbfb}.create-sale-form-content-container[_ngcontent-%COMP%]{padding:1rem}.warning-info[_ngcontent-%COMP%]{color:red}.open-sales-info[_ngcontent-%COMP%]{padding-left:2rem}"]}),e})();function z(e,n){1&e&&(o.Nb(0,"div"),o.Jb(1,"app-admin-loading"),o.Mb())}function J(e,n){if(1&e){const e=o.Ob();o.Nb(0,"span",2),o.Ub("click",function(){o.ic(e);const t=n.$implicit;return o.Wb().goToProductsCategory(t)}),o.nc(1),o.Mb()}if(2&e){const e=n.$implicit,t=o.Wb();o.Ab("selected",t.currentCategory===e),o.yb(1),o.pc(" ",e," ")}}function L(e,n){1&e&&o.Jb(0,"app-admin-product-card",8),2&e&&o.ac("product",n.$implicit)}function q(e,n){if(1&e&&(o.Nb(0,"div",5),o.lc(1,L,1,1,"app-admin-product-card",6),o.Nb(2,"p",7),o.nc(3,"Ovde moze i pagination"),o.Mb(),o.Mb()),2&e){const e=o.Wb();o.yb(1),o.ac("ngForOf",e.adminProducts)}}function T(e,n){1&e&&o.Jb(0,"app-admin-product-card",8),2&e&&o.ac("product",n.$implicit)}function E(e,n){if(1&e&&(o.Nb(0,"div",5),o.lc(1,T,1,1,"app-admin-product-card",6),o.Mb()),2&e){const e=o.Wb();o.yb(1),o.ac("ngForOf",e.filteredProducts)}}let R=(()=>{class e{constructor(e){this.adminService=e,this.showFilteredProducts=!1,this.categories=[]}ngOnInit(){this.getAllProducts(),this.allCategoriesSubscription=this.adminService.getAllCategories().subscribe(e=>{const n=[];e.forEach(e=>{n.push(e.categoryName)}),this.categories=[...n]})}getAllProducts(){this.productsSubscription=this.adminService.getProducts().subscribe(e=>{this.adminProducts=e.data})}goToProductsCategory(e){this.filteredProducts=this.adminProducts.filter(n=>n.category===e),this.showFilteredProducts=!0,this.currentCategory=e}showAllProducts(){console.log("show all products"),this.showFilteredProducts=!1,this.filteredProducts=[]}ngOnDestroy(){this.productsSubscription.unsubscribe(),this.allCategoriesSubscription&&this.allCategoriesSubscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(o.Ib(p))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-admin-products"]],decls:8,vars:6,consts:[[4,"ngIf"],[1,"existing-category-names"],[1,"category-name",3,"click"],["class","category-name",3,"selected","click",4,"ngFor","ngForOf"],["class","admin-page",4,"ngIf"],[1,"admin-page"],[3,"product",4,"ngFor","ngForOf"],[2,"font-size","5rem","color","violet"],[3,"product"]],template:function(e,n){1&e&&(o.lc(0,z,2,0,"div",0),o.Nb(1,"div",1),o.Nb(2,"span",2),o.Ub("click",function(){return n.showAllProducts()}),o.nc(3,"All"),o.Mb(),o.lc(4,J,2,3,"span",3),o.Mb(),o.lc(5,q,4,1,"div",4),o.lc(6,E,2,1,"div",4),o.Jb(7,"app-scroll-to-top")),2&e&&(o.ac("ngIf",!n.adminProducts),o.yb(2),o.Ab("selected",!n.showFilteredProducts),o.yb(2),o.ac("ngForOf",n.categories),o.yb(1),o.ac("ngIf",n.adminProducts&&!n.showFilteredProducts),o.yb(1),o.ac("ngIf",n.showFilteredProducts))},directives:[r.m,r.l,w.a,k,W],styles:[".category-name[_ngcontent-%COMP%]{font-size:1.4rem;padding:.5rem;border-bottom:1px solid var(--gray-color);margin:.5rem 1rem;cursor:pointer;transition:all .2s}.category-name[_ngcontent-%COMP%]:hover{box-shadow:0 10px 10px -10px rgba(33,35,38,.2);color:var(--primary-color)}.selected[_ngcontent-%COMP%]{border-bottom:1px solid var(--primary-color);color:var(--primary-color-darker)}.existing-category-names[_ngcontent-%COMP%]{padding:2rem;display:flex;flex-wrap:wrap}"]}),e})();function G(e,n){1&e&&(o.Nb(0,"div",3),o.nc(1," ...Loading...\n"),o.Mb())}function H(e,n){if(1&e){const e=o.Ob();o.Lb(0),o.Nb(1,"button",33),o.nc(2,"Save"),o.Mb(),o.Nb(3,"button",34),o.Ub("click",function(){return o.ic(e),o.Wb(2).onCancelEditMode()}),o.nc(4,"Cancel"),o.Mb(),o.Kb()}if(2&e){const e=o.Wb(2);o.yb(1),o.ac("disabled",!e.saleForm.valid)}}function $(e,n){if(1&e){const e=o.Ob();o.Nb(0,"button",35),o.Ub("click",function(){return o.ic(e),o.Wb(2).onEnterEditMode()}),o.nc(1,"Edit"),o.Mb(),o.Nb(2,"button",36),o.Ub("click",function(){return o.ic(e),o.Wb(2).onDelete()}),o.nc(3,"Delete"),o.Mb()}if(2&e){const e=o.Wb(2);o.ac("disabled",e.sale.dateClosed)}}function V(e,n){1&e&&(o.Nb(0,"span",37),o.Jb(1,"i",38),o.Mb())}const X=function(e){return["../../admin-user-details",e]};function K(e,n){if(1&e&&(o.Nb(0,"a",39),o.nc(1," User Details"),o.Mb()),2&e){const e=o.Wb(2);o.ac("routerLink",o.ec(1,X,e.sale.winner))}}function Y(e,n){1&e&&(o.Nb(0,"span",37),o.Jb(1,"i",38),o.Mb())}function B(e,n){1&e&&(o.Nb(0,"span",40),o.Jb(1,"i",41),o.Mb())}function Z(e,n){1&e&&(o.Nb(0,"span",42),o.Jb(1,"i",43),o.Mb())}function Q(e,n){1&e&&(o.Nb(0,"span",40),o.Jb(1,"i",41),o.Mb())}function ee(e,n){1&e&&(o.Nb(0,"span",42),o.Jb(1,"i",43),o.Mb())}function ne(e,n){if(1&e){const e=o.Ob();o.Nb(0,"div",44),o.Nb(1,"p",22),o.nc(2,"Open winner details:"),o.Mb(),o.Nb(3,"h4",23),o.Nb(4,"a",45),o.Ub("click",function(){return o.ic(e),o.Wb(2).onGetUserDetails()}),o.nc(5,"Open"),o.Mb(),o.Mb(),o.Mb()}}function te(e,n){1&e&&(o.Nb(0,"button",46),o.nc(1,"Send Email!"),o.Mb())}function re(e,n){if(1&e){const e=o.Ob();o.Nb(0,"button",32),o.Ub("click",function(){return o.ic(e),o.Wb(2).onSetSendProductStatus()}),o.nc(1,"Set Product Sent!"),o.Mb()}}function ie(e,n){if(1&e){const e=o.Ob();o.Nb(0,"div",4),o.Nb(1,"div",5),o.Nb(2,"span"),o.nc(3,"Sale ID:"),o.Mb(),o.Nb(4,"h2"),o.nc(5),o.Mb(),o.Nb(6,"span"),o.nc(7,"Product:"),o.Mb(),o.Nb(8,"h2"),o.nc(9),o.Mb(),o.Mb(),o.Nb(10,"div",6),o.Nb(11,"form",7),o.Ub("ngSubmit",function(){return o.ic(e),o.Wb().onSubmit()}),o.Nb(12,"div",8),o.Nb(13,"fieldset"),o.Nb(14,"label",9),o.nc(15,"Minimum sale points:"),o.Mb(),o.Jb(16,"input",10),o.Mb(),o.Nb(17,"fieldset"),o.Nb(18,"label",11),o.nc(19,"Minimum points per customer:"),o.Mb(),o.Jb(20,"input",12),o.Mb(),o.Nb(21,"fieldset"),o.Nb(22,"label",13),o.nc(23,"Current sale points:"),o.Mb(),o.Jb(24,"input",14),o.Mb(),o.Nb(25,"fieldset"),o.Nb(26,"label",15),o.nc(27,"Forbidden User ID:"),o.Mb(),o.Jb(28,"input",16),o.Mb(),o.Nb(29,"fieldset"),o.Nb(30,"div",17),o.lc(31,H,5,1,"ng-container",18),o.lc(32,$,4,1,"ng-template",null,19,o.mc),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Nb(34,"div",20),o.Nb(35,"div",21),o.Nb(36,"p",22),o.nc(37,"Num of Customers Biding:"),o.Mb(),o.Nb(38,"h4",23),o.nc(39),o.Mb(),o.Mb(),o.Nb(40,"div",21),o.Nb(41,"p",22),o.nc(42,"Date created:"),o.Mb(),o.Nb(43,"h4",23),o.nc(44),o.Xb(45,"date"),o.Mb(),o.Mb(),o.Nb(46,"div",21),o.Nb(47,"p",22),o.nc(48,"Date Closed:"),o.Mb(),o.Nb(49,"h4",23),o.nc(50),o.Xb(51,"date"),o.lc(52,V,2,0,"span",24),o.Mb(),o.Mb(),o.Nb(53,"div",21),o.Nb(54,"p",22),o.nc(55," Winner: "),o.lc(56,K,2,3,"a",25),o.Mb(),o.Nb(57,"h4",23),o.nc(58),o.lc(59,Y,2,0,"span",24),o.Mb(),o.Mb(),o.Nb(60,"div",21),o.Nb(61,"p",22),o.nc(62,"Email sent to Winner?:"),o.Mb(),o.Nb(63,"h4",23),o.nc(64),o.lc(65,B,2,0,"span",26),o.lc(66,Z,2,0,"span",27),o.Mb(),o.Mb(),o.Nb(67,"div",21),o.Nb(68,"p",22),o.nc(69,"Product sent to Winner?:"),o.Mb(),o.Nb(70,"h4",23),o.nc(71),o.lc(72,Q,2,0,"span",26),o.lc(73,ee,2,0,"span",27),o.Mb(),o.Mb(),o.lc(74,ne,6,0,"div",28),o.Mb(),o.Nb(75,"div",29),o.Nb(76,"div",17),o.lc(77,te,2,0,"button",30),o.lc(78,re,2,0,"button",31),o.Nb(79,"button",32),o.Ub("click",function(){return o.ic(e),o.Wb().onReturn()}),o.nc(80,"Return"),o.Mb(),o.Mb(),o.Mb(),o.Mb()}if(2&e){const e=o.gc(33),n=o.Wb();o.yb(5),o.oc(n.sale.id),o.yb(4),o.oc(n.sale.productId.title),o.yb(2),o.ac("formGroup",n.saleForm),o.yb(20),o.ac("ngIf",n.editMode)("ngIfElse",e),o.yb(8),o.pc(" ",n.sale.customers.length," "),o.yb(5),o.pc(" ",o.Zb(45,21,n.sale.createdAt,"d MMM y, HH:mm")," "),o.yb(6),o.pc(" ",o.Zb(51,24,n.sale.dateClosed,"d MMM y, HH:mm")||"sale is still open"," "),o.yb(2),o.ac("ngIf",!n.sale.dateClosed),o.yb(4),o.ac("ngIf",!n.sale.open),o.yb(2),o.pc(" ",n.sale.winner||"sale is still open"," "),o.yb(1),o.ac("ngIf",!n.sale.dateClosed),o.yb(5),o.pc(" ",n.sale.emailToWinnerSent," "),o.yb(1),o.ac("ngIf",n.sale.emailToWinnerSent),o.yb(1),o.ac("ngIf",!n.sale.emailToWinnerSent),o.yb(5),o.pc(" ",n.sale.productSent," "),o.yb(1),o.ac("ngIf",n.sale.productSent),o.yb(1),o.ac("ngIf",!n.sale.productSent),o.yb(1),o.ac("ngIf",n.sale.dateClosed),o.yb(3),o.ac("ngIf",!n.sale.emailToWinnerSent&&!n.sale.open),o.yb(1),o.ac("ngIf",!n.sale.productSent&&!n.sale.open)}}function oe(e,n){if(1&e&&(o.Nb(0,"div",47),o.Nb(1,"table"),o.Nb(2,"tr"),o.Nb(3,"td"),o.nc(4,"Full Name"),o.Mb(),o.Nb(5,"td"),o.nc(6),o.Mb(),o.Mb(),o.Nb(7,"tr"),o.Nb(8,"td"),o.nc(9,"Address"),o.Mb(),o.Nb(10,"td"),o.nc(11),o.Mb(),o.Mb(),o.Nb(12,"tr"),o.Nb(13,"td"),o.nc(14,"Email"),o.Mb(),o.Nb(15,"td"),o.nc(16),o.Mb(),o.Mb(),o.Nb(17,"tr"),o.Nb(18,"td"),o.nc(19,"Username"),o.Mb(),o.Nb(20,"td"),o.nc(21),o.Mb(),o.Mb(),o.Mb(),o.Mb()),2&e){const e=o.Wb();o.yb(6),o.qc("",e.winner.data.firstName," ",e.winner.data.lastName,""),o.yb(5),o.rc("",e.winner.data.address.homeAddress,", ",e.winner.data.address.postalCode," ",e.winner.data.address.city,", ",e.winner.data.address.country,""),o.yb(5),o.oc(e.winner.data.email),o.yb(5),o.oc(e.winner.data.username)}}let ae=(()=>{class e{constructor(e,n,t,r){this.route=e,this.adminService=n,this.router=t,this.location=r,this.editMode=!1,this.showWinner=!1,this.saleForm=new i.e({pointsMin:new i.c(null,i.r.required),pointsSaleMin:new i.c(null,i.r.required),currentPoints:new i.c(null,i.r.required),forbiddenUser:new i.c(null)})}onSubmit(){this.subscription1=this.adminService.editSale(this.sale.id,this.saleForm.value).subscribe(e=>{this.reloadComponent()})}ngOnInit(){this.subscription2=this.adminService.saleDetails(this.route.snapshot.params.saleId).subscribe(e=>{this.sale=e,this.setFormValues(this.sale),this.editMode||this.saleForm.disable()})}setFormValues(e){this.saleForm.patchValue({pointsMin:e.pointsMin,pointsSaleMin:e.pointsSaleMin,currentPoints:e.currentPoints,forbiddenUser:e.forbiddenUser})}onEnterEditMode(){this.editMode=!0,this.saleForm.enable()}onCancelEditMode(){this.editMode=!1,this.saleForm.reset(),this.setFormValues(this.sale),this.saleForm.disable()}onDelete(){confirm("Do you want to delete this sale? Are you sure?")&&(this.subscription3=this.adminService.deleteSale(this.sale.id).subscribe(e=>{console.log(e),this.router.navigate(["/admin/dashboard/all-products"])}))}onReturn(){this.location.back()}onSetSendProductStatus(){this.subscription4=this.adminService.setSendProductStatus(this.sale.id).subscribe(e=>{this.reloadComponent()})}onGetUserDetails(){this.subscription5=this.adminService.getUserDetails(this.sale.winner).subscribe(e=>{this.showWinner=!0,this.winner=e})}reloadComponent(){let e=this.router.url;this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigate([e])}ngOnDestroy(){this.subscription1&&this.subscription1.unsubscribe(),this.subscription2&&this.subscription2.unsubscribe(),this.subscription3&&this.subscription3.unsubscribe(),this.subscription4&&this.subscription4.unsubscribe(),this.subscription5&&this.subscription5.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(o.Ib(h.a),o.Ib(p),o.Ib(h.b),o.Ib(r.i))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-admin-sale-form"]],decls:3,vars:3,consts:[["class","admin-product-card__part",4,"ngIf"],["class","admin-page",4,"ngIf"],["class","winner-details",4,"ngIf"],[1,"admin-product-card__part"],[1,"admin-page"],[1,"admin-page-heading"],[1,"admin-form-container"],[1,"admin-form",3,"formGroup","ngSubmit"],[1,"admin-form-content-container"],["for","pointsSaleMin"],["type","number","required","","formControlName","pointsSaleMin","id","pointsSaleMin"],["for","pointsMin"],["type","number","required","","formControlName","pointsMin","id","pointsMin"],["for","currentPoints"],["type","number","required","","formControlName","currentPoints","id","currentPoints"],["for","forbiddenUser"],["type","text","formControlName","forbiddenUser","id","forbiddenUser"],[1,"admin-form-controls"],[4,"ngIf","ngIfElse"],["editBtn",""],[1,"admin-sale-info"],[1,"admin-sale-info_card"],[1,"admin-sale-info_card__text"],[1,"admin-sale-info_card__heading"],["class","admin-sale-info_card-mark--orange",4,"ngIf"],["class","winner-data-link",3,"routerLink",4,"ngIf"],["class","admin-sale-info_card-mark--green",4,"ngIf"],["class","admin-sale-info_card-mark--red",4,"ngIf"],["class","admin-sale-info_card winner-link-container",4,"ngIf"],[1,"admin-sale-form_bottom"],["type","button","class","btn btn-primary admin-form-btn",4,"ngIf"],["type","button","class","btn btn-primary admin-form-btn",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","admin-form-btn",3,"click"],["type","submit",1,"btn","btn-red","admin-form-btn",3,"disabled"],["type","button",1,"btn","btn-secondary","admin-form-btn",3,"click"],["type","button",1,"btn","btn-primary","admin-form-btn",3,"disabled","click"],["type","button",1,"btn","btn-red","admin-form-btn",3,"click"],[1,"admin-sale-info_card-mark--orange"],[1,"fas","fa-exclamation-triangle"],[1,"winner-data-link",3,"routerLink"],[1,"admin-sale-info_card-mark--green"],[1,"far","fa-check-square"],[1,"admin-sale-info_card-mark--red"],[1,"far","fa-times-circle"],[1,"admin-sale-info_card","winner-link-container"],[1,"winner-link",3,"click"],["type","button",1,"btn","btn-primary","admin-form-btn"],[1,"winner-details"]],template:function(e,n){1&e&&(o.lc(0,G,2,0,"div",0),o.lc(1,ie,81,27,"div",1),o.lc(2,oe,22,8,"div",2)),2&e&&(o.ac("ngIf",!n.sale),o.yb(1),o.ac("ngIf",n.sale),o.yb(1),o.ac("ngIf",n.showWinner))},directives:[r.m,i.t,i.j,i.f,i.n,i.a,i.p,i.i,i.d,h.e],pipes:[r.f],styles:[".admin-form-container[_ngcontent-%COMP%]{padding:2rem 3rem 1rem}.admin-form[_ngcontent-%COMP%]{background-color:#f2f7fb}.admin-form-content-container[_ngcontent-%COMP%]{padding:1rem 2rem}.admin-sale-info[_ngcontent-%COMP%]{padding:0 2rem}.admin-sale-info_card[_ngcontent-%COMP%]{padding:1rem;margin:1rem;background-color:#fff;display:inline-block;box-shadow:0 8px 16px 0 rgba(0,0,0,.2)}.admin-form-controls[_ngcontent-%COMP%]   button.admin-form-btn[_ngcontent-%COMP%]{display:inline-block;border-radius:0;padding:1rem 3rem;margin-right:2rem;width:20rem;border-radius:.5rem}.admin-form-controls[_ngcontent-%COMP%]   button.admin-form-btn[_ngcontent-%COMP%]:disabled{background-color:#5f9ea0}.admin-sale-form_bottom[_ngcontent-%COMP%]{padding:1rem 3rem}.admin-sale-info_card-mark--green[_ngcontent-%COMP%]{color:green}.admin-sale-info_card-mark--red[_ngcontent-%COMP%]{color:red}.admin-sale-info_card-mark--orange[_ngcontent-%COMP%]{color:orange}.admin-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#fff}.admin-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{border:1px solid #f2f7fb;background-color:#f2f7fb}.winner-link[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer}.winner-link-container[_ngcontent-%COMP%]{border:1px solid var(--primary-color)}.winner-details[_ngcontent-%COMP%]{font-size:1.6rem;padding:1rem 3rem 2rem}.admin-sale-info_card__text[_ngcontent-%COMP%]{font-size:1.4rem}.admin-sale-info_card__heading[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{font-size:1.6rem}table[_ngcontent-%COMP%]{border:1px solid #444}td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{padding:1rem 2rem;border:1px solid #555}.winner-data-link[_ngcontent-%COMP%]{text-decoration:none;font-size:1.4rem;font-weight:600;color:var(--primary-color)}.winner-data-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),e})();function se(e,n){1&e&&(o.Nb(0,"div",13),o.Nb(1,"span",14),o.Jb(2,"i",15),o.Mb(),o.Mb())}function ce(e,n){1&e&&(o.Nb(0,"div",13),o.Nb(1,"span",16),o.Jb(2,"i",17),o.Mb(),o.Mb())}function de(e,n){if(1&e){const e=o.Ob();o.Nb(0,"a",18),o.Ub("click",function(){return o.ic(e),o.Wb().onDelete()}),o.nc(1,"Delete"),o.Mb()}}const be=function(e){return["/admin/dashboard/sale",e]};let le=(()=>{class e{constructor(e,n){this.adminService=e,this.router=n}ngOnInit(){}onDelete(){confirm("Do you want to delete this sale? Are you sure?")&&(this.deleteSubscription=this.adminService.deleteSale(this.sale.id).subscribe(e=>{this.reloadComponent()}))}reloadComponent(){let e=this.router.url.split("?")[0];this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigate([e],{queryParamsHandling:"preserve"})}onGoToProduct(){this.router.navigate(["/admin/dashboard/product-form"],{queryParams:{edit:!0,productId:this.sale.productId}})}ngOnDestroy(){this.deleteSubscription&&this.deleteSubscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(o.Ib(p),o.Ib(h.b))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-admin-sale-card"]],inputs:{sale:"sale"},decls:49,vars:25,consts:[[1,"admin-sale-card"],[1,"dmin-sale-card-head"],[1,"admin-sale-card-heading"],["class","admin-sale-info_card--sign-container",4,"ngIf"],[1,"admin-sale-card__controls-container"],[1,"admin-sale-card__controls"],["class","sale-card-btn btn-red",3,"click",4,"ngIf"],[1,"sale-card-btn","btn-primary",3,"routerLink"],[1,"admin-sale-info"],[1,"admin-sale-info_card","admin-sale-info_card--clickable",3,"click"],[1,"admin-sale-info_card__text"],[1,"admin-sale-info_card__heading"],[1,"admin-sale-info_card"],[1,"admin-sale-info_card--sign-container"],[1,"admin-sale-info_card-sign--bad"],[1,"fas","fa-exclamation-triangle"],[1,"admin-sale-info_card-sign--good"],[1,"fas","fa-thumbs-up"],[1,"sale-card-btn","btn-red",3,"click"]],template:function(e,n){1&e&&(o.Nb(0,"div",0),o.Nb(1,"div",1),o.Nb(2,"h2",2),o.nc(3),o.Mb(),o.lc(4,se,3,0,"div",3),o.lc(5,ce,3,0,"div",3),o.Nb(6,"div",4),o.Nb(7,"div",5),o.lc(8,de,2,0,"a",6),o.Nb(9,"a",7),o.nc(10),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Nb(11,"div",8),o.Nb(12,"div",9),o.Ub("click",function(){return n.onGoToProduct()}),o.Nb(13,"p",10),o.nc(14,"Product ID:"),o.Mb(),o.Nb(15,"h4",11),o.nc(16),o.Mb(),o.Mb(),o.Nb(17,"div",12),o.Nb(18,"p",10),o.nc(19,"Customers Biding:"),o.Mb(),o.Nb(20,"h4",11),o.nc(21),o.Mb(),o.Mb(),o.Nb(22,"div",12),o.Nb(23,"p",10),o.nc(24,"Date created:"),o.Mb(),o.Nb(25,"h4",11),o.nc(26),o.Xb(27,"date"),o.Mb(),o.Mb(),o.Nb(28,"div",12),o.Nb(29,"p",10),o.nc(30,"Date Closed:"),o.Mb(),o.Nb(31,"h4",11),o.nc(32),o.Xb(33,"date"),o.Mb(),o.Mb(),o.Nb(34,"div",12),o.Nb(35,"p",10),o.nc(36,"Winner:"),o.Mb(),o.Nb(37,"h4",11),o.nc(38),o.Mb(),o.Mb(),o.Nb(39,"div",12),o.Nb(40,"p",10),o.nc(41,"Email sent to Winner?:"),o.Mb(),o.Nb(42,"h4",11),o.nc(43),o.Mb(),o.Mb(),o.Nb(44,"div",12),o.Nb(45,"p",10),o.nc(46,"Product Sent To Winner?:"),o.Mb(),o.Nb(47,"h4",11),o.nc(48),o.Mb(),o.Mb(),o.Mb(),o.Mb()),2&e&&(o.Ab("open",!n.sale.dateClosed)("closed",n.sale.dateClosed),o.yb(3),o.pc(" ",n.sale.id," "),o.yb(1),o.ac("ngIf",n.sale.dateClosed&&(!n.sale.emailToWinnerSent||!n.sale.productSent)),o.yb(1),o.ac("ngIf",n.sale.emailToWinnerSent&&n.sale.productSent),o.yb(3),o.ac("ngIf",!n.sale.dateClosed),o.yb(1),o.ac("routerLink",o.ec(23,be,n.sale.id)),o.yb(1),o.oc(n.sale.dateClosed&&n.sale.productSent&&n.sale.emailToWinnerSent?"Info":"Edit / Info"),o.yb(6),o.pc(" ",n.sale.productId," "),o.yb(5),o.pc(" ",n.sale.customers.length," "),o.yb(5),o.pc(" ",o.Zb(27,17,n.sale.createdAt,"d MMM y, HH:mm")," "),o.yb(6),o.pc(" ",o.Zb(33,20,n.sale.dateClosed,"d MMM y, HH:mm")||"sale is still open"," "),o.yb(6),o.pc(" ",n.sale.winner||"sale is still open"," "),o.yb(5),o.pc(" ",n.sale.emailToWinnerSent," "),o.yb(5),o.pc(" ",n.sale.productSent," "))},directives:[r.m,h.e],pipes:[r.f],styles:[".admin-sale-card[_ngcontent-%COMP%]{margin:.3rem;border:2px solid transparent}.open[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#c8f8eb,#92f1d7)}.closed[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fecfcc,#ffa09a)}.admin-sale-card[_ngcontent-%COMP%]:hover{border:2px solid #444}.admin-sale-info[_ngcontent-%COMP%]{padding-left:1rem;margin-bottom:.5rem}.admin-sale-info_card[_ngcontent-%COMP%]{padding:.5rem;margin:.3rem;background-color:#fff;display:inline-block;box-shadow:0 4px 8px 0 rgba(0,0,0,.2)}.admin-sale-card__controls-container[_ngcontent-%COMP%]{display:inline-block}.admin-sale-card__controls[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:.5rem 1rem}.sale-card-btn[_ngcontent-%COMP%]{padding:.5rem 2rem;margin:0 1rem;color:#fff;font-size:1.4rem;border-radius:.5rem;cursor:pointer}.admin-sale-info_card--clickable[_ngcontent-%COMP%]{cursor:pointer;border:1px solid var(--primary-color)}.admin-sale-info_card--clickable[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);color:#fff}.admin-sale-card-head[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}h2.admin-sale-card-heading[_ngcontent-%COMP%]{font-size:1.6rem;padding:1rem;margin:0;display:inline-block}.admin-sale-info_card__text[_ngcontent-%COMP%]{font-size:1.4rem}.admin-sale-info_card__heading[_ngcontent-%COMP%]{font-size:1.4rem;margin:0}.admin-sale-info_card--sign-container[_ngcontent-%COMP%]{display:inline-block;padding-right:2rem}.admin-sale-info_card-sign--bad[_ngcontent-%COMP%]{color:red;font-size:2rem;padding:0}.admin-sale-info_card-sign--good[_ngcontent-%COMP%]{color:green;font-size:2rem;padding:0}"]}),e})();function ue(e,n){1&e&&(o.Nb(0,"div",3),o.Jb(1,"app-admin-loading"),o.Mb())}function me(e,n){1&e&&o.Jb(0,"app-admin-sale-card",6),2&e&&o.ac("sale",n.$implicit)}function pe(e,n){if(1&e&&(o.Nb(0,"div",4),o.lc(1,me,1,1,"app-admin-sale-card",5),o.Mb()),2&e){const e=o.Wb();o.yb(1),o.ac("ngForOf",e.adminSales)}}function ge(e,n){1&e&&(o.Lb(0),o.Nb(1,"span",15),o.Jb(2,"i",16),o.Mb(),o.Nb(3,"span",15),o.Jb(4,"i",17),o.Mb(),o.Kb())}function fe(e,n){if(1&e){const e=o.Ob();o.Lb(0),o.Nb(1,"span",18),o.Ub("click",function(){return o.ic(e),o.Wb(2).goToPage(1)}),o.Jb(2,"i",16),o.Mb(),o.Nb(3,"span",18),o.Ub("click",function(){o.ic(e);const n=o.Wb(2);return n.goToPage(n.currentPage-1)}),o.Jb(4,"i",17),o.Mb(),o.Kb()}}function he(e,n){if(1&e){const e=o.Ob();o.Lb(0),o.Nb(1,"span",18),o.Ub("click",function(){o.ic(e);const n=o.Wb(2);return n.goToPage(n.currentPage+1)}),o.Jb(2,"i",19),o.Mb(),o.Nb(3,"span",18),o.Ub("click",function(){o.ic(e);const n=o.Wb(2);return n.goToPage(n.totalPages)}),o.Jb(4,"i",20),o.Mb(),o.Kb()}}function Me(e,n){1&e&&(o.Lb(0),o.Nb(1,"span",15),o.Jb(2,"i",20),o.Mb(),o.Nb(3,"span",15),o.Jb(4,"i",19),o.Mb(),o.Kb())}function ye(e,n){if(1&e){const e=o.Ob();o.Nb(0,"div",7),o.lc(1,ge,5,0,"ng-container",8),o.lc(2,fe,5,0,"ng-container",8),o.Nb(3,"span",9),o.nc(4," page "),o.Nb(5,"span",10),o.nc(6),o.Mb(),o.nc(7),o.Mb(),o.lc(8,he,5,0,"ng-container",8),o.lc(9,Me,5,0,"ng-container",8),o.Nb(10,"span",11),o.nc(11," go to page: "),o.Nb(12,"input",12,13),o.Ub("keyup.enter",function(){o.ic(e);const n=o.gc(13);return o.Wb().goToPage(+n.value)}),o.Mb(),o.Nb(14,"button",14),o.Ub("click",function(){o.ic(e);const n=o.gc(13);return o.Wb().goToPage(+n.value)}),o.nc(15,"Go"),o.Mb(),o.Mb(),o.Mb()}if(2&e){const e=o.Wb();o.yb(1),o.ac("ngIf",1===e.currentPage),o.yb(1),o.ac("ngIf",1!==e.currentPage),o.yb(4),o.oc(e.currentPage),o.yb(1),o.pc(" of ",e.totalPages," pages "),o.yb(1),o.ac("ngIf",e.currentPage!==e.totalPages),o.yb(1),o.ac("ngIf",e.currentPage===e.totalPages)}}let Ne=(()=>{class e{constructor(e,n){this.adminService=e,this.route=n,this.currentPage=1,this.itemsPerPage=3}ngOnInit(){this.subscription1=this.route.queryParams.subscribe(e=>{this.saleStatus=e.saleStatus,this.adminSales=null,"open"===this.saleStatus?this.subscription2=this.adminService.getOpenSales().subscribe(e=>{this.adminSales=e.data}):"closed"===this.saleStatus?this.subscription3=this.adminService.getClosedSales().subscribe(e=>{this.adminSales=e.data}):"finished"===this.saleStatus&&(this.subscription4=this.adminService.getFinishedSales(this.currentPage,this.itemsPerPage).subscribe(e=>{this.adminSales=e.data,this.totalItems=e.results,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage)}))})}goToPage(e){0===e||e>this.totalPages||(this.currentPage=e,this.subscription5=this.adminService.getFinishedSales(this.currentPage,this.itemsPerPage).subscribe(e=>{this.adminSales=e.data}))}ngOnDestroy(){this.subscription1&&this.subscription1.unsubscribe(),this.subscription2&&this.subscription2.unsubscribe(),this.subscription3&&this.subscription3.unsubscribe(),this.subscription4&&this.subscription4.unsubscribe(),this.subscription5&&this.subscription5.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(o.Ib(p),o.Ib(h.a))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-admin-sales"]],decls:4,vars:3,consts:[["class","admin-loading-container",4,"ngIf"],["class","admin-page sales",4,"ngIf"],["class","paginator",4,"ngIf"],[1,"admin-loading-container"],[1,"admin-page","sales"],[3,"sale",4,"ngFor","ngForOf"],[3,"sale"],[1,"paginator"],[4,"ngIf"],[1,"paginator-dashboard"],[1,"current-page--2"],[1,"paginator-dashboard","paginator-command"],["type","number","id","paginator-command-input",3,"keyup.enter"],["page",""],[1,"paginator-command-btn",3,"click"],[1,"paginator-button-disabled"],[1,"fas","fa-fast-backward"],[1,"fas","fa-backward"],[1,"paginator-button",3,"click"],[1,"fas","fa-forward"],[1,"fas","fa-fast-forward"]],template:function(e,n){1&e&&(o.lc(0,ue,2,0,"div",0),o.lc(1,pe,2,1,"div",1),o.lc(2,ye,16,6,"div",2),o.Jb(3,"app-scroll-to-top")),2&e&&(o.ac("ngIf",!n.adminSales),o.yb(1),o.ac("ngIf",n.adminSales),o.yb(1),o.ac("ngIf","finished"===n.saleStatus))},directives:[r.m,w.a,k,r.l,le],styles:[".sales[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;padding:1rem}.paginator[_ngcontent-%COMP%]{margin-top:3rem;text-align:center;border-top:1px solid var(--gray-color);padding:2rem}.paginator-button[_ngcontent-%COMP%]{padding:1rem;font-size:1.6rem;color:var(--primary-color);cursor:pointer;border-radius:.2rem;transition:background-color .2s}.paginator-button-num[_ngcontent-%COMP%]:hover{background-color:var(--gray-color);color:#fff}.current-page[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff}.current-page--2[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:600;color:var(--primary-color)}.paginator-button-disabled[_ngcontent-%COMP%]{color:var(--gray-color)}.paginator-button-disabled[_ngcontent-%COMP%], .paginator-dashboard[_ngcontent-%COMP%]{padding:1rem;font-size:1.6rem}.paginator-command[_ngcontent-%COMP%]{margin-left:3rem}#paginator-command-input[_ngcontent-%COMP%]{font-size:1.4rem;border:1px solid var(--gray-color);width:4.3rem;padding:.5rem;-moz-appearance:textfield}#paginator-command-input[_ngcontent-%COMP%]::-webkit-inner-spin-button, #paginator-command-input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}#paginator-command-input[_ngcontent-%COMP%]:focus{outline:1px solid var(--primary-color)}.paginator-command-btn[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;font-size:1.6rem;border:none;text-transform:uppercase;padding:.5rem 1rem;cursor:pointer;transition:all .2s;margin-left:.5rem}@media only screen and (max-width:599px){.paginator[_ngcontent-%COMP%]{padding:1rem}.paginator-button[_ngcontent-%COMP%]{padding:.8rem;font-size:1.4rem}.current-page--2[_ngcontent-%COMP%]{font-size:1.6rem}.paginator-button-disabled[_ngcontent-%COMP%]{padding:.8rem;font-size:1.4rem}.paginator-dashboard[_ngcontent-%COMP%]{font-size:1.4rem}.paginator-command[_ngcontent-%COMP%]{margin:1rem auto;display:block}.paginator-command-btn[_ngcontent-%COMP%]{font-size:1.4rem;padding:.4rem .8rem}}"]}),e})();function Pe(e,n){if(1&e){const e=o.Ob();o.Lb(0),o.Nb(1,"button",31),o.nc(2,"Save"),o.Mb(),o.Nb(3,"button",32),o.Ub("click",function(){return o.ic(e),o.Wb().onCancelEditMode()}),o.nc(4,"Cancel"),o.Mb(),o.Kb()}if(2&e){const e=o.Wb();o.yb(1),o.ac("disabled",!e.adminUserDetailsForm.valid)}}function Oe(e,n){if(1&e){const e=o.Ob();o.Nb(0,"button",33),o.Ub("click",function(){return o.ic(e),o.Wb().onReturn()}),o.nc(1,"Return"),o.Mb(),o.Nb(2,"button",34),o.Ub("click",function(){return o.ic(e),o.Wb().onEnterEditMode()}),o.nc(3,"Edit"),o.Mb(),o.Nb(4,"button",35),o.Ub("click",function(){return o.ic(e),o.Wb().onDelete()}),o.nc(5,"Delete"),o.Mb()}}let Ce=(()=>{class e{constructor(e,n,t,r){this.route=e,this.adminService=n,this.router=t,this.location=r,this.editMode=!1,this.adminUserDetailsForm=new i.e({firstName:new i.c(null,i.r.required),lastName:new i.c(null,i.r.required),email:new i.c(null,[i.r.required,i.r.email]),country:new i.c(null,i.r.required),homeAddress:new i.c(null,i.r.required),postalCode:new i.c(null,i.r.required),city:new i.c(null,i.r.required),role:new i.c(null,i.r.required),level:new i.c(null,i.r.required),points:new i.c(null,i.r.required)})}ngOnInit(){this.userDetailsSubscription=this.adminService.getUserDetails(this.route.snapshot.params.userId).subscribe(e=>{this.user=e.data,this.setFormValues(this.user),this.username=this.user.username,this.active=this.user.active,this.passwordChangedAt=this.user.passwordChangedAt,this.passwordResetToken=this.user.passwordResetToken,this.passwordResetExpires=this.user.passwordResetExpires,this.spending=this.user.spending,this.wishlist=this.user.wishlist,this.salesWon=e.salesWon,this.editMode||this.adminUserDetailsForm.disable()})}onSubmit(){this.editUserSubscription=this.adminService.editUser(this.user._id,this.adminUserDetailsForm.value).subscribe(e=>{this.reloadComponent()})}setFormValues(e){this.adminUserDetailsForm.patchValue({firstName:e.firstName,lastName:e.lastName,email:e.email,country:e.address.country,homeAddress:e.address.homeAddress,postalCode:e.address.postalCode,city:e.address.city,role:e.role,level:e.level,points:e.points})}onEnterEditMode(){this.editMode=!0,this.adminUserDetailsForm.enable()}onCancelEditMode(){this.editMode=!1,this.adminUserDetailsForm.reset(),this.setFormValues(this.user),this.adminUserDetailsForm.disable()}onDelete(){confirm("Do you want to delete this user? Are you sure?")&&(this.deleteUserSubscription=this.adminService.deleteUser(this.user._id).subscribe(e=>{this.router.navigate(["/admin/dashboard/users"])}))}onReturn(){this.location.back()}reloadComponent(){let e=this.router.url;this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigate([e])}ngOnDestroy(){this.userDetailsSubscription.unsubscribe(),this.editUserSubscription&&this.editUserSubscription.unsubscribe(),this.deleteUserSubscription&&this.deleteUserSubscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(o.Ib(h.a),o.Ib(p),o.Ib(h.b),o.Ib(r.i))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-admin-user-details"]],decls:72,vars:12,consts:[[1,"admin-page"],[1,"admin-page-heading"],[1,"admin-user-details-heading"],[1,"admin-form-container"],[1,"admin-form",3,"formGroup","ngSubmit"],[1,"admin-form-content-container"],["for","firstName"],["placeholder","firstName","type","text","formControlName","firstName","id","firstName"],["for","lastName"],["placeholder","lastName","type","text","formControlName","lastName","id","lastName"],["for","email"],["placeholder","email","type","email","formControlName","email","id","email"],["for","country"],["placeholder","country","type","text","formControlName","country","id","country"],["for","homeAddress"],["placeholder","homeAddress","type","text","formControlName","homeAddress","id","homeAddress"],["for","postalCode"],["placeholder","postalCode","type","text","formControlName","postalCode","id","postalCode"],["for","city"],["placeholder","city","type","text","formControlName","city","id","city"],["for","role"],["formControlName","role","id","role","size","1"],["value","user"],["value","admin"],["for","level"],["placeholder","level","type","number","formControlName","level","id","level"],["for","points"],["placeholder","points","type","number","formControlName","points","id","points"],[1,"admin-form-controls"],[4,"ngIf","ngIfElse"],["editBtn",""],["type","submit",1,"btn","btn-red","admin-form-btn",3,"disabled"],["type","button",1,"btn","btn-secondary","admin-form-btn",3,"click"],["type","button",1,"btn","btn-ternary","admin-form-btn",3,"click"],["type","button",1,"btn","btn-primary","admin-form-btn",3,"click"],["type","button",1,"btn","btn-red","admin-form-btn",3,"click"]],template:function(e,n){if(1&e&&(o.Nb(0,"div",0),o.Nb(1,"div",1),o.Nb(2,"h4",2),o.nc(3),o.Mb(),o.Nb(4,"h3",2),o.nc(5),o.Mb(),o.Nb(6,"h4",2),o.nc(7),o.Mb(),o.Mb(),o.Nb(8,"div",3),o.Nb(9,"form",4),o.Ub("ngSubmit",function(){return n.onSubmit()}),o.Nb(10,"div",5),o.Nb(11,"fieldset"),o.Nb(12,"label",6),o.nc(13,"firstName:"),o.Mb(),o.Jb(14,"input",7),o.Mb(),o.Nb(15,"fieldset"),o.Nb(16,"label",8),o.nc(17,"lastName:"),o.Mb(),o.Jb(18,"input",9),o.Mb(),o.Nb(19,"fieldset"),o.Nb(20,"label",10),o.nc(21,"email:"),o.Mb(),o.Jb(22,"input",11),o.Mb(),o.Nb(23,"fieldset"),o.Nb(24,"label",12),o.nc(25,"country:"),o.Mb(),o.Jb(26,"input",13),o.Mb(),o.Nb(27,"fieldset"),o.Nb(28,"label",14),o.nc(29,"homehomeAddress:"),o.Mb(),o.Jb(30,"input",15),o.Mb(),o.Nb(31,"fieldset"),o.Nb(32,"label",16),o.nc(33,"postalCode:"),o.Mb(),o.Jb(34,"input",17),o.Mb(),o.Nb(35,"fieldset"),o.Nb(36,"label",18),o.nc(37,"city:"),o.Mb(),o.Jb(38,"input",19),o.Mb(),o.Nb(39,"fieldset"),o.Nb(40,"label",20),o.nc(41,"Role:"),o.Mb(),o.Nb(42,"select",21),o.Nb(43,"option",22),o.nc(44,"user"),o.Mb(),o.Nb(45,"option",23),o.nc(46,"admin"),o.Mb(),o.Mb(),o.Mb(),o.Nb(47,"fieldset"),o.Nb(48,"label",24),o.nc(49,"level:"),o.Mb(),o.Jb(50,"input",25),o.Mb(),o.Nb(51,"fieldset"),o.Nb(52,"label",26),o.nc(53,"points:"),o.Mb(),o.Jb(54,"input",27),o.Mb(),o.Nb(55,"fieldset"),o.Nb(56,"div",28),o.lc(57,Pe,5,1,"ng-container",29),o.lc(58,Oe,6,0,"ng-template",null,30,o.mc),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Nb(60,"p"),o.nc(61),o.Mb(),o.Nb(62,"p"),o.nc(63),o.Mb(),o.Nb(64,"p"),o.nc(65),o.Mb(),o.Nb(66,"p"),o.nc(67),o.Mb(),o.Nb(68,"p"),o.nc(69),o.Mb(),o.Nb(70,"p"),o.nc(71),o.Mb(),o.Mb()),2&e){const e=o.gc(59);o.yb(3),o.oc(n.user?n.user.id:""),o.yb(2),o.oc(n.username),o.yb(2),o.pc("Sales Won: ",n.salesWon,""),o.yb(2),o.ac("formGroup",n.adminUserDetailsForm),o.yb(48),o.ac("ngIf",n.editMode)("ngIfElse",e),o.yb(4),o.pc("active: ",n.active,""),o.yb(2),o.pc("passwordChangedAt: ",n.passwordChangedAt,""),o.yb(2),o.pc("passwordResetToken: ",n.passwordResetToken,""),o.yb(2),o.pc("passwordResetExpires: ",n.passwordResetExpires,""),o.yb(2),o.pc("spending: ",n.spending,""),o.yb(2),o.pc("wishlist: ",n.wishlist,"")}},directives:[i.t,i.j,i.f,i.a,i.i,i.d,i.q,i.m,i.s,i.n,r.m],styles:[".admin-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{border:1px solid #f2f7fb;background-color:#f2f7fb}.admin-form[_ngcontent-%COMP%]{background-color:#f2f7fb}h3.admin-user-details-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:600;margin:1.2rem 0}h4.admin-user-details-heading[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;margin:0}.admin-page-heading[_ngcontent-%COMP%]{padding:1.8rem 2rem}"]}),e})();const ve=function(e){return["../admin-user-details",e]};function _e(e,n){if(1&e&&(o.Nb(0,"div",3),o.Nb(1,"div",4),o.Nb(2,"h5",5),o.nc(3),o.Mb(),o.Nb(4,"h3",5),o.nc(5),o.Mb(),o.Nb(6,"h4",5),o.nc(7),o.Mb(),o.Mb(),o.Nb(8,"p"),o.nc(9),o.Mb(),o.Nb(10,"p"),o.nc(11),o.Mb(),o.Nb(12,"p"),o.nc(13),o.Mb(),o.Nb(14,"p"),o.nc(15),o.Mb(),o.Nb(16,"p"),o.nc(17),o.Mb(),o.Nb(18,"p"),o.nc(19),o.Xb(20,"date"),o.Mb(),o.Nb(21,"p"),o.nc(22),o.Mb(),o.Nb(23,"p"),o.nc(24),o.Mb(),o.Nb(25,"p"),o.nc(26),o.Mb(),o.Nb(27,"a",6),o.nc(28,"Edit"),o.Mb(),o.Mb()),2&e){const e=n.$implicit;o.yb(3),o.pc(" ",e.id," "),o.yb(2),o.qc(" ",e.firstName," ",e.lastName," "),o.yb(2),o.pc(" email: ",e.email," "),o.yb(2),o.pc("role: ",e.role,""),o.yb(2),o.pc("level: ",e.level,""),o.yb(2),o.pc("points: ",e.points,""),o.yb(2),o.pc("wishlist-length: ",e.wishlist.length,""),o.yb(2),o.pc("username: ",e.username,""),o.yb(2),o.pc("created at: ",o.Yb(20,17,e.createdAt),""),o.yb(3),o.rc("address: ",e.address.country,", ",e.address.homeAddress,", ",e.address.postalCode,", ",e.address.city,""),o.yb(2),o.pc("active?: ",e.active,""),o.yb(2),o.pc("spending: ",e.spending,""),o.yb(1),o.ac("routerLink",o.ec(19,ve,e.id))}}function Se(e,n){1&e&&(o.Lb(0),o.Nb(1,"span",15),o.Jb(2,"i",16),o.Mb(),o.Nb(3,"span",15),o.Jb(4,"i",17),o.Mb(),o.Kb())}function we(e,n){if(1&e){const e=o.Ob();o.Lb(0),o.Nb(1,"span",18),o.Ub("click",function(){return o.ic(e),o.Wb(2).goToPage(1)}),o.Jb(2,"i",16),o.Mb(),o.Nb(3,"span",18),o.Ub("click",function(){o.ic(e);const n=o.Wb(2);return n.goToPage(n.currentPage-1)}),o.Jb(4,"i",17),o.Mb(),o.Kb()}}function ke(e,n){if(1&e){const e=o.Ob();o.Lb(0),o.Nb(1,"span",18),o.Ub("click",function(){o.ic(e);const n=o.Wb(2);return n.goToPage(n.currentPage+1)}),o.Jb(2,"i",19),o.Mb(),o.Nb(3,"span",18),o.Ub("click",function(){o.ic(e);const n=o.Wb(2);return n.goToPage(n.totalPages)}),o.Jb(4,"i",20),o.Mb(),o.Kb()}}function Ie(e,n){1&e&&(o.Lb(0),o.Nb(1,"span",15),o.Jb(2,"i",20),o.Mb(),o.Nb(3,"span",15),o.Jb(4,"i",19),o.Mb(),o.Kb())}function xe(e,n){if(1&e){const e=o.Ob();o.Nb(0,"div",7),o.lc(1,Se,5,0,"ng-container",8),o.lc(2,we,5,0,"ng-container",8),o.Nb(3,"span",9),o.nc(4," page "),o.Nb(5,"span",10),o.nc(6),o.Mb(),o.nc(7),o.Mb(),o.lc(8,ke,5,0,"ng-container",8),o.lc(9,Ie,5,0,"ng-container",8),o.Nb(10,"span",11),o.nc(11," go to page: "),o.Nb(12,"input",12,13),o.Ub("keyup.enter",function(){o.ic(e);const n=o.gc(13);return o.Wb().goToPage(+n.value)}),o.Mb(),o.Nb(14,"button",14),o.Ub("click",function(){o.ic(e);const n=o.gc(13);return o.Wb().goToPage(+n.value)}),o.nc(15,"Go"),o.Mb(),o.Mb(),o.Mb()}if(2&e){const e=o.Wb();o.yb(1),o.ac("ngIf",1===e.currentPage),o.yb(1),o.ac("ngIf",1!==e.currentPage),o.yb(4),o.oc(e.currentPage),o.yb(1),o.pc(" of ",e.totalPages," pages "),o.yb(1),o.ac("ngIf",e.currentPage!==e.totalPages),o.yb(1),o.ac("ngIf",e.currentPage===e.totalPages)}}let Ue=(()=>{class e{constructor(e){this.adminService=e,this.currentPage=1,this.itemsPerPage=4}ngOnInit(){this.allUsersSubscription=this.adminService.getAllUsers(this.currentPage,this.itemsPerPage).subscribe(e=>{this.allUsers=e.data,this.totalItems=e.results,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage)})}goToPage(e){0===e||e>this.totalPages||(this.currentPage=e,this.goToPageSubscription=this.adminService.getAllUsers(this.currentPage,this.itemsPerPage).subscribe(e=>{this.allUsers=e.data}))}ngOnDestroy(){this.allUsersSubscription.unsubscribe(),this.goToPageSubscription&&this.goToPageSubscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(o.Ib(p))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-admin-users"]],decls:3,vars:2,consts:[[1,"admin-users-container"],["class","admin-user-card",4,"ngFor","ngForOf"],["class","paginator",4,"ngIf"],[1,"admin-user-card"],[1,"admin-user-card-header"],[1,"admin-user-card-heading"],[1,"user-edit-link",3,"routerLink"],[1,"paginator"],[4,"ngIf"],[1,"paginator-dashboard"],[1,"current-page--2"],[1,"paginator-dashboard","paginator-command"],["type","number","id","paginator-command-input",3,"keyup.enter"],["page",""],[1,"paginator-command-btn",3,"click"],[1,"paginator-button-disabled"],[1,"fas","fa-fast-backward"],[1,"fas","fa-backward"],[1,"paginator-button",3,"click"],[1,"fas","fa-forward"],[1,"fas","fa-fast-forward"]],template:function(e,n){1&e&&(o.Nb(0,"div",0),o.lc(1,_e,29,21,"div",1),o.Mb(),o.lc(2,xe,16,6,"div",2)),2&e&&(o.yb(1),o.ac("ngForOf",n.allUsers),o.yb(1),o.ac("ngIf",!0))},directives:[r.l,r.m,h.e],pipes:[r.f],styles:[".admin-users-container[_ngcontent-%COMP%]{padding:2rem;display:flex;flex-wrap:wrap}.admin-user-card[_ngcontent-%COMP%]{padding:2rem;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);background-color:#fff;margin:1rem;display:inline-block;max-width:25rem;height:100%}.admin-user-card-header[_ngcontent-%COMP%]{padding-bottom:1rem;border-bottom:1px solid #008b8b}.admin-user-card[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:1.4rem}h3.admin-user-card-heading[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:600}h4.admin-user-card-heading[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:400}h5.admin-user-card-heading[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600}.paginator[_ngcontent-%COMP%]{margin-top:3rem;text-align:center;border-top:1px solid var(--gray-color);padding:2rem}.paginator-button[_ngcontent-%COMP%]{padding:1rem;font-size:1.6rem;color:var(--primary-color);cursor:pointer;border-radius:.2rem;transition:background-color .2s}.paginator-button-num[_ngcontent-%COMP%]:hover{background-color:var(--gray-color);color:#fff}.current-page[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff}.current-page--2[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:600;color:var(--primary-color)}.paginator-button-disabled[_ngcontent-%COMP%]{color:var(--gray-color)}.paginator-button-disabled[_ngcontent-%COMP%], .paginator-dashboard[_ngcontent-%COMP%]{padding:1rem;font-size:1.6rem}.paginator-command[_ngcontent-%COMP%]{margin-left:3rem}#paginator-command-input[_ngcontent-%COMP%]{font-size:1.4rem;border:1px solid var(--gray-color);width:4.3rem;padding:.5rem;-moz-appearance:textfield}#paginator-command-input[_ngcontent-%COMP%]::-webkit-inner-spin-button, #paginator-command-input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}#paginator-command-input[_ngcontent-%COMP%]:focus{outline:1px solid var(--primary-color)}.paginator-command-btn[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;font-size:1.6rem;border:none;text-transform:uppercase;padding:.5rem 1rem;cursor:pointer;transition:all .2s;margin-left:.5rem}a.user-edit-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:600;font-size:1.6rem;margin-top:1rem}a.user-edit-link[_ngcontent-%COMP%]:hover{text-decoration:underline}@media only screen and (max-width:599px){.paginator[_ngcontent-%COMP%]{padding:1rem}.paginator-button[_ngcontent-%COMP%]{padding:.8rem;font-size:1.4rem}.current-page--2[_ngcontent-%COMP%]{font-size:1.6rem}.paginator-button-disabled[_ngcontent-%COMP%]{padding:.8rem;font-size:1.4rem}.paginator-dashboard[_ngcontent-%COMP%]{font-size:1.4rem}.paginator-command[_ngcontent-%COMP%]{margin:1rem auto;display:block}.paginator-command-btn[_ngcontent-%COMP%]{font-size:1.4rem;padding:.4rem .8rem}}"]}),e})();var Ae=t("PCNd");const Fe=function(e){return["../admin-user-details",e]};function je(e,n){if(1&e&&(o.Nb(0,"div",2),o.Nb(1,"div",3),o.Nb(2,"h5",4),o.nc(3),o.Mb(),o.Nb(4,"h3",4),o.nc(5),o.Mb(),o.Nb(6,"h4",4),o.nc(7),o.Mb(),o.Mb(),o.Nb(8,"p"),o.nc(9),o.Mb(),o.Nb(10,"p"),o.nc(11),o.Mb(),o.Nb(12,"p"),o.nc(13),o.Mb(),o.Nb(14,"p"),o.nc(15),o.Mb(),o.Nb(16,"p"),o.nc(17),o.Mb(),o.Nb(18,"p"),o.nc(19),o.Xb(20,"date"),o.Mb(),o.Nb(21,"p"),o.nc(22),o.Mb(),o.Nb(23,"p"),o.nc(24),o.Mb(),o.Nb(25,"p"),o.nc(26),o.Mb(),o.Nb(27,"a",5),o.nc(28,"Edit"),o.Mb(),o.Mb()),2&e){const e=n.$implicit;o.yb(3),o.pc(" ",e.id," "),o.yb(2),o.qc(" ",e.firstName," ",e.lastName," "),o.yb(2),o.pc(" email: ",e.email," "),o.yb(2),o.pc("role: ",e.role,""),o.yb(2),o.pc("level: ",e.level,""),o.yb(2),o.pc("points: ",e.points,""),o.yb(2),o.pc("wishlist-length: ",e.wishlist.length,""),o.yb(2),o.pc("username: ",e.username,""),o.yb(2),o.pc("created at: ",o.Yb(20,17,e.createdAt),""),o.yb(3),o.rc("address: ",e.address.country,", ",e.address.homeAddress,", ",e.address.postalCode,", ",e.address.city,""),o.yb(2),o.pc("active?: ",e.active,""),o.yb(2),o.pc("spending: ",e.spending,""),o.yb(1),o.ac("routerLink",o.ec(19,Fe,e.id))}}const De=[{path:"",component:P,children:[{path:"home",component:C},{path:"product-form",component:S},{path:"category-form",component:f},{path:"all-products",component:R},{path:"all-sales",component:Ne},{path:"sale/:saleId",component:ae},{path:"admin-user-details/:userId",component:Ce},{path:"users",component:Ue},{path:"forbidden-users",component:(()=>{class e{constructor(e){this.adminService=e}ngOnInit(){this.forbiddenUsersSubscription=this.adminService.getForbiddenUsers().subscribe(e=>{this.forbiddenUsers=e.data})}ngOnDestroy(){this.forbiddenUsersSubscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(o.Ib(p))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-admin-fobidden-users"]],decls:2,vars:1,consts:[[1,"admin-users-container"],["class","admin-user-card",4,"ngFor","ngForOf"],[1,"admin-user-card"],[1,"admin-user-card-header"],[1,"admin-user-card-heading"],[1,"user-edit-link",3,"routerLink"]],template:function(e,n){1&e&&(o.Nb(0,"div",0),o.lc(1,je,29,21,"div",1),o.Mb()),2&e&&(o.yb(1),o.ac("ngForOf",n.forbiddenUsers))},directives:[r.l,h.e],pipes:[r.f],styles:[".admin-users-container[_ngcontent-%COMP%]{padding:2rem;display:flex;flex-wrap:wrap}.admin-user-card[_ngcontent-%COMP%]{padding:2rem;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);background-color:#fff;margin:1rem;display:inline-block;max-width:25rem;height:100%}.admin-user-card-header[_ngcontent-%COMP%]{padding-bottom:1rem;border-bottom:1px solid #008b8b}.admin-user-card[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:1.4rem}h3.admin-user-card-heading[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:600}h4.admin-user-card-heading[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:400}h5.admin-user-card-heading[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600}a.user-edit-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:600;font-size:1.6rem;margin-top:1rem}a.user-edit-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),e})()}]}];let We=(()=>{class e{}return e.\u0275mod=o.Gb({type:e}),e.\u0275inj=o.Fb({factory:function(n){return new(n||e)},imports:[[r.c,i.g,i.o,Ae.a,h.f.forChild(De)]]}),e})()}}]);