"use strict";(self.webpackChunkone_buck_store_ANG13=self.webpackChunkone_buck_store_ANG13||[]).push([[647],{3647:(Ke,h,g)=>{g.r(h),g.d(h,{AdminModule:()=>je});var d=g(9808),p=g(6533),a=g(2382),e=g(7587),v=g(2340),c=g(262),l=g(2843),m=g(3151),b=g(4004),T=g(520),Z=g(3086);const u=v.N.apiUrl;let _=(()=>{class r{constructor(n,t){this.http=n,this.alerts=t}getAdminHomePage(){return this.http.get(u+"/admin/home").pipe((0,c.K)(n=>{let t=n.error.message||"An unknown error occurred!";return this.alerts.addError(t),(0,l._)(()=>t)}),(0,m.d)())}getAdminUsersInfo(){return this.http.get(u+"/admin/home-users-info").pipe((0,c.K)(n=>{let t=n.error.message||"An unknown error occurred!";return this.alerts.addError(t),(0,l._)(()=>t)}),(0,m.d)())}getProducts(){return this.http.get(u+"/admin/all-products").pipe((0,c.K)(n=>{let t=n.error.message||"An unknown error occurred!";return this.alerts.addError(t),(0,l._)(()=>t)}),(0,m.d)())}addProduct(n){return this.http.post(u+"/admin/add-product",n).pipe((0,c.K)(t=>{let i=t.error.message||"An unknown error occurred!";return this.alerts.addError(i),(0,l._)(()=>i)}),(0,m.d)())}editProduct(n,t){return this.http.patch(u+"/admin/edit-product",{editedProductId:n,newProductData:t}).pipe((0,c.K)(i=>{let s=i.error.message||"An unknown error occurred!";return this.alerts.addError(s),(0,l._)(()=>s)}),(0,m.d)())}deleteProduct(n){return this.http.delete(u+"/admin/product/"+n).pipe((0,c.K)(t=>{let i=t.error.message||"An unknown error occurred!";return this.alerts.addError(i),(0,l._)(()=>i)}),(0,m.d)())}getOpenSales(){return this.http.get(u+"/admin/open-sales").pipe((0,c.K)(n=>{let t=n.error.message||"An unknown error occurred!";return this.alerts.addError(t),(0,l._)(()=>t)}),(0,m.d)())}getClosedSales(){return this.http.get(u+"/admin/closed-sales").pipe((0,c.K)(n=>{let t=n.error.message||"An unknown error occurred!";return this.alerts.addError(t),(0,l._)(()=>t)}),(0,m.d)())}getFinishedSales(n,t){return this.http.get(u+`/admin/finished-sales?page=${n}&skip=${t}`).pipe((0,c.K)(i=>{let s=i.error.message||"An unknown error occurred!";return this.alerts.addError(s),(0,l._)(()=>s)}),(0,m.d)())}createSale(n,t,i){return this.http.post(u+"/admin/create-sale",{productId:n,pointsSaleMin:t,pointsMin:i}).pipe((0,c.K)(s=>{let f=s.error.message||"An unknown error occurred!";return this.alerts.addError(f),(0,l._)(()=>f)}),(0,m.d)())}editSale(n,t){return this.http.patch(u+"/admin/edit-sale",{editedSaleId:n,newSaleData:t}).pipe((0,c.K)(i=>{let s=i.error.message||"An unknown error occurred!";return this.alerts.addError(s),(0,l._)(()=>s)}),(0,m.d)())}deleteSale(n){return this.http.delete(u+"/admin/admin-sales/"+n).pipe((0,c.K)(t=>{let i=t.error.message||"An unknown error occurred!";return this.alerts.addError(i),(0,l._)(()=>i)}),(0,m.d)())}saleDetails(n){return this.http.get(u+"/admin/admin-sales/"+n).pipe((0,b.U)(t=>t.data),(0,c.K)(t=>{let i=t.error.message||"An unknown error occurred!";return this.alerts.addError(i),(0,l._)(()=>i)}),(0,m.d)())}setSendProductStatus(n){return this.http.patch(u+"/admin/set-send-product",{saleId:n}).pipe((0,c.K)(t=>{let i=t.error.message||"An unknown error occurred!";return this.alerts.addError(i),(0,l._)(()=>i)}),(0,m.d)())}getAllUsers(n,t){return this.http.get(u+`/users/all?page=${n}&skip=${t}`).pipe((0,c.K)(i=>{let s=i.error.message||"An unknown error occurred!";return this.alerts.addError(s),(0,l._)(()=>s)}),(0,m.d)())}getForbiddenUsers(){return this.http.get(u+"/users/forbidden-users").pipe((0,c.K)(n=>{let t=n.error.message||"An unknown error occurred!";return this.alerts.addError(t),(0,l._)(()=>t)}),(0,m.d)())}getUserDetails(n){return this.http.get(u+`/users/user/${n}`).pipe((0,c.K)(t=>{let i=t.error.message||"An unknown error occurred!";return this.alerts.addError(i),(0,l._)(()=>i)}),(0,m.d)())}editUser(n,t){return console.log(t),this.http.patch(u+"/admin/edit-user",{userId:n,userData:t}).pipe((0,c.K)(i=>{let s=i.error.message||"An unknown error occurred!";return this.alerts.addError(s),(0,l._)(()=>s)}),(0,m.d)())}deleteUser(n){return this.http.delete(u+`/admin/edit-user/${n}`).pipe((0,c.K)(t=>{let i=t.error.message||"An unknown error occurred!";return this.alerts.addError(i),(0,l._)(()=>i)}),(0,m.d)())}getAllCategories(){return this.http.get(u+"/admin/categories").pipe((0,b.U)(n=>n.data),(0,c.K)(n=>{let t=n.error.message||"An unknown error occurred!";return this.alerts.addError(t),(0,l._)(()=>t)}),(0,m.d)())}createNewCategory(n){return this.http.post(u+"/admin/categories",{category:n}).pipe((0,c.K)(t=>{let i=t.error.message||"An unknown error occurred!";return this.alerts.addError(i),(0,l._)(()=>i)}),(0,m.d)())}}return r.\u0275fac=function(n){return new(n||r)(e.LFG(T.eN),e.LFG(Z.m))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function U(r,o){if(1&r&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&r){const n=o.$implicit;e.xp6(1),e.Oqu(n)}}let x=(()=>{class r{constructor(n,t){this.adminService=n,this.alertsService=t,this.categories=[],this.categoryForm=new a.cw({categoryName:new a.NI(null,a.kI.required)})}ngOnInit(){this.allCategoriesSubscription=this.adminService.getAllCategories().subscribe(n=>{const t=[];n.forEach(i=>{t.push(i.categoryName)}),this.categories=[...t]})}onSubmit(){this.newCategorySubscription=this.adminService.createNewCategory(this.categoryForm.value.categoryName).subscribe(n=>{this.alertsService.addSuccess("Category successfully created")})}ngOnDestroy(){this.allCategoriesSubscription&&this.allCategoriesSubscription.unsubscribe(),this.newCategorySubscription&&this.newCategorySubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(_),e.Y36(Z.m))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-admin-category-form"]],decls:19,vars:3,consts:[[1,"admin-page"],[1,"admin-page-heading"],[1,"admin-form-container"],[1,"admin-form",3,"formGroup","ngSubmit"],[1,"admin-form-content-container"],["for","categoryName"],["type","text","required","","formControlName","categoryName","id","categoryName"],[1,"admin-form-controls"],["type","submit",1,"btn","btn-red","admin-form-btn",3,"disabled"],[1,"category-list-heading"],[1,"existing-category-names"],["class","category-name",4,"ngFor","ngForOf"],[1,"category-name"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"Create new Category:"),e.qZA()(),e.TgZ(4,"div",2)(5,"form",3),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(6,"div",4)(7,"fieldset")(8,"label",5),e._uU(9,"Category Name:"),e.qZA(),e._UZ(10,"input",6),e.qZA(),e.TgZ(11,"fieldset")(12,"div",7)(13,"button",8),e._uU(14,"Save"),e.qZA()()()()()(),e.TgZ(15,"h3",9),e._uU(16,"Existing category names list:"),e.qZA(),e.TgZ(17,"div",10),e.YNc(18,U,2,1,"span",11),e.qZA()()),2&n&&(e.xp6(5),e.Q6J("formGroup",t.categoryForm),e.xp6(8),e.Q6J("disabled",!t.categoryForm.valid),e.xp6(5),e.Q6J("ngForOf",t.categories))},directives:[a._Y,a.JL,a.sg,a.Fj,a.Q7,a.JJ,a.u,d.sg],styles:[".existing-category-names[_ngcontent-%COMP%]{padding:0 2rem;display:flex;flex-wrap:wrap}.category-name[_ngcontent-%COMP%]{font-size:1.6rem;padding:1rem;border:1px solid var(--primary-color);border-radius:.5rem;margin:.5rem 1rem}.category-list-heading[_ngcontent-%COMP%]{padding-left:2rem;padding-bottom:1rem;font-size:1.6rem}"]}),r})();const S=function(){return{saleStatus:"open"}},M=function(){return{saleStatus:"closed"}},y=function(){return{saleStatus:"finished"}};let q=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-admin-dashboard"]],decls:43,vars:6,consts:[[1,"admin-dashboard-container"],[1,"admin-menu-container"],[1,"admin-welcome"],[1,"admin-menu"],["routerLink","home","routerLinkActive","admin-menu-item-active",1,"admin-menu-link"],[1,"admin-menu-group-heading"],["routerLink","all-products","routerLinkActive","admin-menu-item-active",1,"admin-menu-link"],["routerLink","product-form","routerLinkActive","admin-menu-item-active",1,"admin-menu-link"],["routerLink","category-form","routerLinkActive","admin-menu-item-active",1,"admin-menu-link"],["routerLink","all-sales","routerLinkActive","admin-menu-item-active",1,"admin-menu-link",3,"queryParams"],["routerLink","users","routerLinkActive","admin-menu-item-active",1,"admin-menu-link"],["routerLink","forbidden-users","routerLinkActive","admin-menu-item-active",1,"admin-menu-link"],[1,"admin-menu-link"],[1,"admin-work-panel"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3," Welcome Admin! "),e.qZA(),e.TgZ(4,"ul",3)(5,"li",4)(6,"a"),e._uU(7,"Home"),e.qZA()(),e.TgZ(8,"li",5),e._uU(9,"Products"),e.qZA(),e.TgZ(10,"li",6)(11,"a"),e._uU(12,"All Products"),e.qZA()(),e.TgZ(13,"li",7)(14,"a"),e._uU(15,"Create/Edit Product"),e.qZA()(),e.TgZ(16,"li",8)(17,"a"),e._uU(18,"Create New Category"),e.qZA()(),e.TgZ(19,"li",5),e._uU(20,"Sales"),e.qZA(),e.TgZ(21,"li",9)(22,"a"),e._uU(23,"Open Sales"),e.qZA()(),e.TgZ(24,"li",9)(25,"a"),e._uU(26,"Closed Sales"),e.qZA()(),e.TgZ(27,"li",9)(28,"a"),e._uU(29,"Finished Sales"),e.qZA()(),e.TgZ(30,"li",5),e._uU(31,"Users"),e.qZA(),e.TgZ(32,"li",10)(33,"a"),e._uU(34,"All Users"),e.qZA()(),e.TgZ(35,"li",11)(36,"a"),e._uU(37,"Forbidden Users"),e.qZA()(),e.TgZ(38,"li",12)(39,"a"),e._uU(40,"Edit User"),e.qZA()()()(),e.TgZ(41,"div",13),e._UZ(42,"router-outlet"),e.qZA()()),2&n&&(e.xp6(21),e.Q6J("queryParams",e.DdM(3,S)),e.xp6(3),e.Q6J("queryParams",e.DdM(4,M)),e.xp6(3),e.Q6J("queryParams",e.DdM(5,y)))},directives:[p.rH,p.Od,p.lC],styles:['@import"https://fonts.googleapis.com/css2?family=Quicksand&display=swap";.admin-dashboard-container[_ngcontent-%COMP%]{display:flex;font-family:Quicksand,sans-serif}.admin-menu-container[_ngcontent-%COMP%]{flex:1;background-image:linear-gradient(to right bottom,#263544,#2f3b48,#37414b,#40484f,#494e53);color:#c2c7d0;font-size:1.6rem;padding:2rem 1rem;font-weight:400}ul.admin-menu[_ngcontent-%COMP%]{margin-top:1rem}li.admin-menu-link[_ngcontent-%COMP%]{cursor:pointer;padding:.8rem 1rem .8rem 2.4rem;transition:.2s all}li.admin-menu-link[_ngcontent-%COMP%]:hover{background-image:linear-gradient(to right,rgba(37,151,221,.5),rgba(37,151,221,.01))}li.admin-menu-link[_ngcontent-%COMP%]:focus{outline:none}li.admin-menu-link[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:link, li.admin-menu-link[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:visited{color:#c2c7d0}.admin-menu-item-active[_ngcontent-%COMP%]{background-image:linear-gradient(to right,rgba(37,151,221,.2),rgba(37,151,221,.01));outline:none;color:#d9cabb;position:relative}.special-1[_ngcontent-%COMP%]{background-color:#695d37;color:#fff}.special-2[_ngcontent-%COMP%]{margin-top:.5rem;background-color:#694737;color:#fff}.admin-menu-item-active[_ngcontent-%COMP%]:before{content:"";background:rgba(37,151,221,.5);display:block;width:.5rem;height:100%;position:absolute;left:0;top:0}.admin-welcome[_ngcontent-%COMP%]{text-align:center;border-bottom:1px solid #4b545c;padding:3rem}.admin-work-panel[_ngcontent-%COMP%]{flex:4;background-color:#f2f7fb}.admin-menu-group-heading[_ngcontent-%COMP%]{padding:1rem;font-size:1.4rem}@media only screen and (max-width: 899px){.admin-menu-container[_ngcontent-%COMP%]{font-size:1.4rem;padding:1.5rem}li.admin-menu-link[_ngcontent-%COMP%]{cursor:pointer;padding:.8rem .8rem .8rem 2rem}.admin-welcome[_ngcontent-%COMP%]{padding:2.5rem}}']}),r})();function k(r,o){if(1&r&&(e.TgZ(0,"div",7)(1,"div",1)(2,"h5",2),e._uU(3,"Number Of Registered Customers:"),e.qZA(),e.TgZ(4,"span",3),e._uU(5),e.qZA()(),e.TgZ(6,"div",1)(7,"h5",2),e._uU(8,"Number Of Customers That Spent Money:"),e.qZA(),e.TgZ(9,"span",3),e._uU(10),e.qZA()(),e.TgZ(11,"div",1)(12,"h5",2),e._uU(13,"Average Customer Spending:"),e.qZA(),e.TgZ(14,"span",3),e._uU(15),e.ALo(16,"currency"),e.qZA()()()),2&r){const n=e.oxw();e.xp6(5),e.Oqu(n.numOfUsers),e.xp6(5),e.Oqu(n.numOfUsersSpending),e.xp6(5),e.Oqu(e.lcZ(16,3,n.userAvgSpending))}}let O=(()=>{class r{constructor(n){this.adminService=n,this.showUserDetails=!1}ngOnInit(){this.getAdminHomePageSubscription=this.adminService.getAdminHomePage().subscribe(n=>{this.totalProductsSold=n.data.totalProductsSold,this.totalPointsSpentOnSoldProducts=n.data.totalPointsSpentOnSoldProducts,this.totalEarningsOnSoldProducts=n.data.totalEarningsOnSoldProducts,this.averageSaleLength=n.data.averageSaleLength}),this.getAdminUsersInfoSubscription=this.adminService.getAdminUsersInfo().subscribe(n=>{this.numOfUsers=n.data.numOfUsers,this.numOfUsersSpending=n.data.numOfUsersSpending,this.userAvgSpending=n.data.userAvgSpending})}onShowUserDetails(){this.showUserDetails=!this.showUserDetails}ngOnDestroy(){this.getAdminHomePageSubscription&&this.getAdminHomePageSubscription.unsubscribe(),this.getAdminUsersInfoSubscription&&this.getAdminUsersInfoSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(_))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-admin-home"]],decls:27,vars:9,consts:[[1,"section","admin-dashboard-section"],[1,"admin-dashboard-card"],[1,"admin-dashboard-card__heading"],[1,"admin-dashboard-card__info-tile"],[1,"user-details"],[1,"btn","btn-primary",3,"click"],["class","admin-dashboard-section",4,"ngIf"],[1,"admin-dashboard-section"]],template:function(n,t){1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"h5",2),e._uU(3,"Total Products Sold:"),e.qZA(),e.TgZ(4,"span",3),e._uU(5),e.qZA()(),e.TgZ(6,"div",1)(7,"h5",2),e._uU(8,"Total Points Spent On Sold Products:"),e.qZA(),e.TgZ(9,"span",3),e._uU(10),e.ALo(11,"currency"),e.qZA()(),e.TgZ(12,"div",1)(13,"h5",2),e._uU(14,"Total Earnings On Sold Products:"),e.qZA(),e.TgZ(15,"span",3),e._uU(16),e.ALo(17,"currency"),e.qZA()(),e.TgZ(18,"div",1)(19,"h5",2),e._uU(20,"Average Sale Length:"),e.qZA(),e.TgZ(21,"span",3),e._uU(22),e.qZA()()(),e.TgZ(23,"div",4)(24,"a",5),e.NdJ("click",function(){return t.onShowUserDetails()}),e._uU(25,"Show Users Details"),e.qZA(),e.YNc(26,k,17,5,"div",6),e.qZA()),2&n&&(e.xp6(5),e.Oqu(t.totalProductsSold),e.xp6(5),e.Oqu(e.lcZ(11,5,t.totalPointsSpentOnSoldProducts)),e.xp6(6),e.Oqu(e.lcZ(17,7,t.totalEarningsOnSoldProducts)),e.xp6(6),e.hij("",t.averageSaleLength," hours"),e.xp6(4),e.Q6J("ngIf",t.showUserDetails))},directives:[d.O5],pipes:[d.H9],styles:[".user-details[_ngcontent-%COMP%]{padding:2rem}"]}),r})();var w=g(1714);function N(r,o){if(1&r&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&r){const n=o.$implicit;e.s9C("value",n),e.xp6(1),e.Oqu(n)}}let F=(()=>{class r{constructor(n,t,i,s,f){this.adminService=n,this.router=t,this.route=i,this.shopService=s,this.location=f,this.editMode="false",this.categories=[],this.productForm=new a.cw({title:new a.NI("",a.kI.required),price:new a.NI("",a.kI.required),description:new a.NI("",a.kI.required),imageUrl:new a.NI("",a.kI.required),infoLink:new a.NI("",a.kI.required),manufacturer:new a.NI("",a.kI.required),category:new a.NI("",a.kI.required)}),this.categoriesSubscription=this.adminService.getAllCategories().subscribe(He=>{const P=[];He.forEach(Re=>{P.push(Re.categoryName)}),this.categories=[...P]})}ngOnInit(){this.editMode=this.route.snapshot.queryParams.edit||!1,this.productId=this.route.snapshot.queryParams.productId||null,this.editMode&&this.setFormValues()}setFormValues(){this.getProductSubscription=this.shopService.getProduct(this.productId).subscribe(n=>{this.editedProductId=n.data.id,this.productForm.patchValue({title:n.data.title,price:n.data.price,description:n.data.description,imageUrl:n.data.imageUrl,infoLink:n.data.infoLink,manufacturer:n.data.manufacturer,category:n.data.category})})}onSubmit(){if("true"===this.editMode)return this.editProductSubscription=this.adminService.editProduct(this.editedProductId,this.productForm.value).subscribe(n=>{this.router.navigate(["/admin/dashboard/all-products"])},n=>console.log(n));this.addProductSubscription=this.adminService.addProduct(this.productForm.value).subscribe(n=>{this.router.navigate(["/admin/dashboard/all-products"])},n=>console.log(n))}onCancel(){this.location.back()}ngOnDestroy(){this.categoriesSubscription&&this.categoriesSubscription.unsubscribe(),this.getProductSubscription&&this.getProductSubscription.unsubscribe(),this.addProductSubscription&&this.addProductSubscription.unsubscribe(),this.editProductSubscription&&this.editProductSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(_),e.Y36(p.F0),e.Y36(p.gz),e.Y36(w.d),e.Y36(d.Ye))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-admin-product-form"]],decls:43,vars:3,consts:[[1,"admin-page"],[1,"admin-page-heading"],[1,"admin-form-container"],[1,"admin-form",3,"formGroup","ngSubmit"],[1,"admin-form-content-container"],["for","title"],["placeholder","Product Title","type","text","tabindex","4","required","","formControlName","title","id","title","autofocus",""],["for","price"],["placeholder","Product Price","type","number","tabindex","5","required","","formControlName","price","id","price"],["for","description"],["placeholder","Product Description","tabindex","6","required","","formControlName","description","id","description"],["for","imageUrl"],["placeholder","Product Image URL","type","url","tabindex","7","required","","formControlName","imageUrl","id","imageUrl"],["for","infoLink"],["placeholder","Product Info Link","type","url","tabindex","8","required","","formControlName","infoLink","id","infoLink"],["for","manufacturer"],["placeholder","Product Manufacturer","type","text","tabindex","9","required","","formControlName","manufacturer","id","manufacturer"],["for","category"],["tabindex","10","formControlName","category","id","category","size","1"],[3,"value",4,"ngFor","ngForOf"],[1,"admin-form-controls"],["type","submit",1,"btn","btn-red","admin-form-btn"],["type","button",1,"btn","btn-secondary","admin-form-btn",3,"click"],[3,"value"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3),e.qZA()(),e.TgZ(4,"div",2)(5,"form",3),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(6,"div",4)(7,"fieldset")(8,"label",5),e._uU(9,"Title:"),e.qZA(),e._UZ(10,"input",6),e.qZA(),e.TgZ(11,"fieldset")(12,"label",7),e._uU(13,"Price:"),e.qZA(),e._UZ(14,"input",8),e.qZA(),e.TgZ(15,"fieldset")(16,"label",9),e._uU(17,"Description:"),e.qZA(),e.TgZ(18,"textarea",10),e._uU(19,"              "),e.qZA()(),e.TgZ(20,"fieldset")(21,"label",11),e._uU(22,"Image URL:"),e.qZA(),e._UZ(23,"input",12),e.qZA(),e.TgZ(24,"fieldset")(25,"label",13),e._uU(26,"Info Link:"),e.qZA(),e._UZ(27,"input",14),e.qZA(),e.TgZ(28,"fieldset")(29,"label",15),e._uU(30,"Manufacturer:"),e.qZA(),e._UZ(31,"input",16),e.qZA(),e.TgZ(32,"fieldset")(33,"label",17),e._uU(34,"Category:"),e.qZA(),e.TgZ(35,"select",18),e.YNc(36,N,2,2,"option",19),e.qZA()(),e.TgZ(37,"fieldset")(38,"div",20)(39,"button",21),e._uU(40,"Save"),e.qZA(),e.TgZ(41,"button",22),e.NdJ("click",function(){return t.onCancel()}),e._uU(42,"Cancel"),e.qZA()()()()()()()),2&n&&(e.xp6(3),e.Oqu(t.editMode?"Edit Product":"Create New Product"),e.xp6(2),e.Q6J("formGroup",t.productForm),e.xp6(31),e.Q6J("ngForOf",t.categories))},directives:[a._Y,a.JL,a.sg,a.Fj,a.Q7,a.JJ,a.u,a.wV,a.EJ,d.sg,a.YN,a.Kr],styles:[""]}),r})(),C=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-admin-loading"]],decls:5,vars:0,consts:[[1,"spinner-box"],[1,"configure-border-1"],[1,"configure-core"],[1,"configure-border-2"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.qZA(),e.TgZ(3,"div",3),e._UZ(4,"div",2),e.qZA()())},styles:["@keyframes configure-clockwise{0%{transform:rotate(0)}25%{transform:rotate(90deg)}50%{transform:rotate(180deg)}75%{transform:rotate(270deg)}to{transform:rotate(360deg)}}@keyframes configure-xclockwise{0%{transform:rotate(45deg)}25%{transform:rotate(-45deg)}50%{transform:rotate(-135deg)}75%{transform:rotate(-225deg)}to{transform:rotate(-315deg)}}.configure-border-1[_ngcontent-%COMP%]{width:115px;height:115px;padding:3px;position:absolute;display:flex;justify-content:center;align-items:center;background:var(--primary-color);animation:configure-clockwise 3s ease-in-out 0s infinite alternate}.configure-border-2[_ngcontent-%COMP%]{width:115px;height:115px;padding:3px;left:-115px;display:flex;justify-content:center;align-items:center;background:var(--secondary-color);transform:rotate(45deg);animation:configure-xclockwise 3s ease-in-out 0s infinite alternate}.configure-core[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#f2f7fb}.spinner-box[_ngcontent-%COMP%]{padding:5rem}"]}),r})();function I(r,o){1&r&&e._UZ(0,"i",25)}const J=function(r){return["../sale",r]};function E(r,o){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"a",22),e._uU(5),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td")(13,"span",23),e.YNc(14,I,1,0,"i",24),e.qZA()()()),2&r){const n=o.$implicit,t=o.index;e.xp6(2),e.Oqu(t+1),e.xp6(2),e.Q6J("routerLink",e.VKq(7,J,n.id)),e.xp6(1),e.Oqu(n.id),e.xp6(2),e.Oqu(n.open),e.xp6(2),e.Oqu(n.currentPoints),e.xp6(2),e.Oqu(n.pointsSaleMin),e.xp6(3),e.Q6J("ngIf",n.warning)}}function Q(r,o){if(1&r&&(e.TgZ(0,"div",20)(1,"table")(2,"thead")(3,"tr")(4,"th"),e._uU(5,"No"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Sale ID"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Open status?"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Current Pts"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Sale Pts Min"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"i"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,E,15,9,"tr",21),e.qZA()()()),2&r){const n=e.oxw();e.xp6(17),e.Q6J("ngForOf",n.product.sales)}}function Y(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"div",26)(1,"form",27),e.NdJ("ngSubmit",function(){return e.CHM(n),e.oxw().onSubmit()}),e.TgZ(2,"div",28)(3,"h2",29),e._uU(4,"Create Sale"),e.qZA(),e.TgZ(5,"fieldset")(6,"label",30),e._uU(7,"Minimun Points for Sale:"),e.qZA(),e._UZ(8,"input",31),e.qZA(),e.TgZ(9,"fieldset")(10,"label",32),e._uU(11,"Minimum Points per Customer:"),e.qZA(),e._UZ(12,"input",33),e.qZA(),e.TgZ(13,"fieldset")(14,"button",34),e._uU(15,"Submit"),e.qZA()()()()()}if(2&r){const n=e.oxw();e.xp6(1),e.Q6J("formGroup",n.createSaleForm)}}const D=function(){return["/admin/dashboard/product-form"]},z=function(r){return{edit:!0,productId:r}};let L=(()=>{class r{constructor(n,t){this.adminService=n,this.router=t,this.noOpenSales=!0,this.showCreateSaleForm=!1,this.showSalesTable=!1,this.createSaleForm=new a.cw({pointsSaleMin:new a.NI("",a.kI.required),pointsMin:new a.NI("1",a.kI.required)})}ngOnInit(){this.recommendedSalePrice=Math.ceil(1.3*this.product.price),this.createSaleForm.patchValue({pointsSaleMin:this.recommendedSalePrice});for(let n of this.product.sales)(!1===n.emailToWinnerSent||!1===n.productSent)&&n.pointsSaleMin<=n.currentPoints&&(n.warning=!0);this.openSalesNum=this.product.sales.filter(n=>!0===n.open).length}onCreateNewSale(){this.showCreateSaleForm=!this.showCreateSaleForm}onShowProductSales(){this.showSalesTable=!this.showSalesTable}onSubmit(){this.createSaleSubscription=this.adminService.createSale(this.product.id,+this.createSaleForm.value.pointsSaleMin,+this.createSaleForm.value.pointsMin).subscribe()}onDelete(){confirm("Do you want to delete this product? Are you sure?")&&(this.deleteProductSubscription=this.adminService.deleteProduct(this.product.id).subscribe(n=>{this.reloadComponent()}))}reloadComponent(){let n=this.router.url;this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigate([n])}ngOnDestroy(){this.createSaleSubscription&&this.createSaleSubscription.unsubscribe(),this.deleteProductSubscription&&this.deleteProductSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(_),e.Y36(p.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-admin-product-card"]],inputs:{product:"product"},decls:45,vars:17,consts:[[1,"admin-product-card"],[1,"admin-product-card-heading"],[1,"open-sales-info"],[1,"admin-product-card_top"],[1,"admin-product-card__image"],[3,"src","alt"],[1,"admin-product-card__description"],[1,"admin-product-card_info"],[1,"admin-product-card_info-card"],[1,"admin-product-card_info-card--text"],[1,"admin-product-card_info-card--heading"],["target","_blank",1,"admin-product-card__link",3,"href"],[1,"admin-product-card-controls"],[1,"btn","admin-btn-primary","admin-product-card-btn",3,"click"],[1,"btn","admin-btn-secondary","admin-product-card-btn",3,"click"],[1,"btn","btn-ternary","admin-product-card-btn",3,"routerLink","queryParams"],[1,"btn","btn-red","admin-product-card-btn",3,"click"],[1,"admin-product-card_bottom"],["class","admin-product-sales-table",4,"ngIf"],["class","create-sale-form-container",4,"ngIf"],[1,"admin-product-sales-table"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"warning-info"],["class","fas fa-exclamation-circle",4,"ngIf"],[1,"fas","fa-exclamation-circle"],[1,"create-sale-form-container"],[3,"formGroup","ngSubmit"],[1,"create-sale-form-content-container"],[1,"create-sale-form-heading"],["for","createSalePointsSaleMin"],["type","number","required","","formControlName","pointsSaleMin","id","createSalePointsSaleMin","autofocus",""],["for","createSalePointsMin"],["type","number","required","","formControlName","pointsMin","id","createSalePointsMin"],["type","submit",1,"btn","admin-btn-secondary","admin-product-card-btn"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.TgZ(3,"span",2),e._uU(4),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4),e._UZ(7,"img",5),e.qZA(),e.TgZ(8,"div",6)(9,"p"),e._uU(10),e.qZA()(),e.TgZ(11,"div",7)(12,"div",8)(13,"p",9),e._uU(14,"Price:"),e.qZA(),e.TgZ(15,"h4",10),e._uU(16),e.qZA()(),e.TgZ(17,"div",8)(18,"p",9),e._uU(19,"Category:"),e.qZA(),e.TgZ(20,"h4",10),e._uU(21),e.qZA()(),e.TgZ(22,"div",8)(23,"p",9),e._uU(24,"Manufacturer:"),e.qZA(),e.TgZ(25,"h4",10),e._uU(26),e.qZA()(),e.TgZ(27,"div",8)(28,"p",9),e._uU(29,"More info:"),e.qZA(),e.TgZ(30,"h4",10)(31,"a",11),e._uU(32,"Info"),e.qZA()()()()(),e.TgZ(33,"div",12)(34,"button",13),e.NdJ("click",function(){return t.onShowProductSales()}),e._uU(35),e.qZA(),e.TgZ(36,"button",14),e.NdJ("click",function(){return t.onCreateNewSale()}),e._uU(37,"Create New Sale"),e.qZA(),e.TgZ(38,"a",15),e._uU(39," Edit "),e.qZA(),e.TgZ(40,"button",16),e.NdJ("click",function(){return t.onDelete()}),e._uU(41,"delete"),e.qZA()(),e.TgZ(42,"div",17),e.YNc(43,Q,18,1,"div",18),e.YNc(44,Y,16,1,"div",19),e.qZA()()),2&n&&(e.xp6(2),e.hij("",t.product.title," "),e.xp6(2),e.hij(" - Open sales: ",t.openSalesNum,""),e.xp6(3),e.s9C("src",t.product.imageUrl,e.LSH),e.MGl("alt","",t.product.title," image"),e.xp6(3),e.Oqu(t.product.description),e.xp6(6),e.hij(" ",t.product.price," "),e.xp6(5),e.hij(" ",t.product.category," "),e.xp6(5),e.hij(" ",t.product.manufacturer," "),e.xp6(5),e.s9C("href",t.product.infoLink,e.LSH),e.xp6(4),e.hij("Show Sales (",t.product.sales.length,")"),e.xp6(3),e.Q6J("routerLink",e.DdM(14,D))("queryParams",e.VKq(15,z,t.product.id)),e.xp6(5),e.Q6J("ngIf",t.showSalesTable),e.xp6(1),e.Q6J("ngIf",t.showCreateSaleForm))},directives:[p.yS,d.O5,d.sg,a._Y,a.JL,a.sg,a.wV,a.Fj,a.Q7,a.JJ,a.u],styles:[".admin-product-card[_ngcontent-%COMP%]{margin:1.5rem 2rem;background-color:#fff;box-shadow:0 8px 16px #0003}.admin-product-card__image[_ngcontent-%COMP%]{height:20rem;width:20rem;display:inline-block;padding:1rem;margin:0 auto;grid-row-start:1;grid-row-end:3}.admin-product-card__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:contain;overflow:hidden}.admin-product-card__heading[_ngcontent-%COMP%]{padding-top:.3rem;padding-bottom:1rem;padding-left:1rem;font-size:1.4rem;display:block;margin:0}.admin-product-card__link[_ngcontent-%COMP%]{display:block;padding-left:1rem;margin-top:.3rem;font-size:1.6rem;color:var(--ternary-color)}.admin-product-card__link[_ngcontent-%COMP%]:hover{text-decoration:underline}.admin-product-card_bottom[_ngcontent-%COMP%]{display:flex;border-top:2px solid #f4f4f4}.admin-product-sales-table[_ngcontent-%COMP%]{padding:1rem 3rem 2rem;font-size:1.4rem;display:inline-block}.admin-product-sales-table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link{text-decoration:none;color:#694737}.admin-product-sales-table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#694737}.admin-product-sales-table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#695d37}.admin-product-sales-table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#694737}.admin-product-sales-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;font-size:1.4rem;min-width:400px;box-shadow:0 0 20px #00000026;text-align:center}.admin-product-sales-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#694737;color:#fff;text-align:center}.admin-product-sales-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-product-sales-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem 1.2rem}.admin-product-sales-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #dddddd}.admin-product-sales-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{font-weight:600}.admin-product-sales-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(even){background-color:#f3f3f3}.admin-product-sales-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-of-type{border-bottom:2px solid #694737}.admin-product-sales-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.active-row[_ngcontent-%COMP%]{font-weight:700;color:#009879}.admin-product-card_info[_ngcontent-%COMP%]{grid-row-start:2;grid-row-end:3;grid-column-start:2;grid-column-end:3}.admin-product-card_info-card[_ngcontent-%COMP%]{padding:.6rem 1.2rem;margin:1rem;background-color:#fff;display:inline-block;box-shadow:0 8px 16px #0003}.admin-product-card_info-card--text[_ngcontent-%COMP%]{font-size:1.4rem}.admin-product-card_info-card--heading[_ngcontent-%COMP%]{font-size:1.6rem;margin:0}.admin-product-card__description[_ngcontent-%COMP%]{grid-row-start:1;grid-row-end:2;grid-column-start:2;grid-column-end:3}.admin-product-card__description[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:1.4rem}.admin-product-card_top[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 3fr;grid-gap:1rem}.admin-product-card-heading[_ngcontent-%COMP%]{margin:0;padding:1rem}.admin-product-card-controls[_ngcontent-%COMP%]{padding:1rem 2rem}.admin-product-card-btn[_ngcontent-%COMP%]{display:inline-block;margin:0 1rem;padding:1rem 3rem}.admin-btn-primary[_ngcontent-%COMP%]{background-color:#694737}.admin-btn-secondary[_ngcontent-%COMP%]{background-color:#695d37}.create-sale-form-container[_ngcontent-%COMP%]{text-align:center;display:inline-block;padding:1rem;min-width:300px}.create-sale-form-container[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{box-shadow:0 0 20px #00000026;background-color:#fbfbfb}.create-sale-form-content-container[_ngcontent-%COMP%]{padding:1rem}.warning-info[_ngcontent-%COMP%]{color:red}.open-sales-info[_ngcontent-%COMP%]{padding-left:2rem}"]}),r})();var A=g(6583);function j(r,o){1&r&&(e.TgZ(0,"div"),e._UZ(1,"app-admin-loading"),e.qZA())}function H(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"span",2),e.NdJ("click",function(){const s=e.CHM(n).$implicit;return e.oxw().goToProductsCategory(s)}),e._uU(1),e.qZA()}if(2&r){const n=o.$implicit,t=e.oxw();e.ekj("selected",t.currentCategory===n),e.xp6(1),e.hij(" ",n," ")}}function R(r,o){1&r&&e._UZ(0,"app-admin-product-card",8),2&r&&e.Q6J("product",o.$implicit)}function K(r,o){if(1&r&&(e.TgZ(0,"div",5),e.YNc(1,R,1,1,"app-admin-product-card",6),e.TgZ(2,"p",7),e._uU(3,"Ovde moze i pagination"),e.qZA()()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.adminProducts)}}function W(r,o){1&r&&e._UZ(0,"app-admin-product-card",8),2&r&&e.Q6J("product",o.$implicit)}function V(r,o){if(1&r&&(e.TgZ(0,"div",5),e.YNc(1,W,1,1,"app-admin-product-card",6),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.filteredProducts)}}let G=(()=>{class r{constructor(n){this.adminService=n,this.showFilteredProducts=!1,this.categories=[]}ngOnInit(){this.getAllProducts(),this.allCategoriesSubscription=this.adminService.getAllCategories().subscribe(n=>{const t=[];n.forEach(i=>{t.push(i.categoryName)}),this.categories=[...t]})}getAllProducts(){this.productsSubscription=this.adminService.getProducts().subscribe(n=>{this.adminProducts=n.data})}goToProductsCategory(n){this.filteredProducts=this.adminProducts.filter(t=>t.category===n),this.showFilteredProducts=!0,this.currentCategory=n}showAllProducts(){console.log("show all products"),this.showFilteredProducts=!1,this.filteredProducts=[]}ngOnDestroy(){this.productsSubscription.unsubscribe(),this.allCategoriesSubscription&&this.allCategoriesSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(_))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-admin-products"]],decls:8,vars:6,consts:[[4,"ngIf"],[1,"existing-category-names"],[1,"category-name",3,"click"],["class","category-name",3,"selected","click",4,"ngFor","ngForOf"],["class","admin-page",4,"ngIf"],[1,"admin-page"],[3,"product",4,"ngFor","ngForOf"],[2,"font-size","5rem","color","violet"],[3,"product"]],template:function(n,t){1&n&&(e.YNc(0,j,2,0,"div",0),e.TgZ(1,"div",1)(2,"span",2),e.NdJ("click",function(){return t.showAllProducts()}),e._uU(3,"All"),e.qZA(),e.YNc(4,H,2,3,"span",3),e.qZA(),e.YNc(5,K,4,1,"div",4),e.YNc(6,V,2,1,"div",4),e._UZ(7,"app-scroll-to-top")),2&n&&(e.Q6J("ngIf",!t.adminProducts),e.xp6(2),e.ekj("selected",!t.showFilteredProducts),e.xp6(2),e.Q6J("ngForOf",t.categories),e.xp6(1),e.Q6J("ngIf",t.adminProducts&&!t.showFilteredProducts),e.xp6(1),e.Q6J("ngIf",t.showFilteredProducts))},directives:[d.O5,C,d.sg,L,A.H],styles:[".category-name[_ngcontent-%COMP%]{font-size:1.4rem;padding:.5rem;border-bottom:1px solid var(--gray-color);margin:.5rem 1rem;cursor:pointer;transition:.2s all}.category-name[_ngcontent-%COMP%]:hover{box-shadow:#21232633 0 10px 10px -10px;color:var(--primary-color)}.selected[_ngcontent-%COMP%]{border-bottom:1px solid var(--primary-color);color:var(--primary-color-darker)}.existing-category-names[_ngcontent-%COMP%]{padding:2rem;display:flex;flex-wrap:wrap}"]}),r})();function B(r,o){1&r&&(e.TgZ(0,"div",3),e._uU(1," ...Loading... "),e.qZA())}function $(r,o){if(1&r){const n=e.EpF();e.ynx(0),e.TgZ(1,"button",33),e._uU(2,"Save"),e.qZA(),e.TgZ(3,"button",34),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).onCancelEditMode()}),e._uU(4,"Cancel"),e.qZA(),e.BQk()}if(2&r){const n=e.oxw(2);e.xp6(1),e.Q6J("disabled",!n.saleForm.valid)}}function X(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).onEnterEditMode()}),e._uU(1,"Edit"),e.qZA(),e.TgZ(2,"button",36),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).onDelete()}),e._uU(3,"Delete"),e.qZA()}if(2&r){const n=e.oxw(2);e.Q6J("disabled",n.sale.dateClosed)}}function ee(r,o){1&r&&(e.TgZ(0,"span",37),e._UZ(1,"i",38),e.qZA())}const ne=function(r){return["../../admin-user-details",r]};function te(r,o){if(1&r&&(e.TgZ(0,"a",39),e._uU(1," User Details"),e.qZA()),2&r){const n=e.oxw(2);e.Q6J("routerLink",e.VKq(1,ne,n.sale.winner))}}function re(r,o){1&r&&(e.TgZ(0,"span",37),e._UZ(1,"i",38),e.qZA())}function ie(r,o){1&r&&(e.TgZ(0,"span",40),e._UZ(1,"i",41),e.qZA())}function oe(r,o){1&r&&(e.TgZ(0,"span",42),e._UZ(1,"i",43),e.qZA())}function ae(r,o){1&r&&(e.TgZ(0,"span",40),e._UZ(1,"i",41),e.qZA())}function se(r,o){1&r&&(e.TgZ(0,"span",42),e._UZ(1,"i",43),e.qZA())}function de(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"div",44)(1,"p",22),e._uU(2,"Open winner details:"),e.qZA(),e.TgZ(3,"h4",23)(4,"a",45),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).onGetUserDetails()}),e._uU(5,"Open"),e.qZA()()()}}function ce(r,o){1&r&&(e.TgZ(0,"button",46),e._uU(1,"Send Email!"),e.qZA())}function le(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).onSetSendProductStatus()}),e._uU(1,"Set Product Sent!"),e.qZA()}}function me(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"span"),e._uU(3,"Sale ID:"),e.qZA(),e.TgZ(4,"h2"),e._uU(5),e.qZA(),e.TgZ(6,"span"),e._uU(7,"Product:"),e.qZA(),e.TgZ(8,"h2"),e._uU(9),e.qZA()(),e.TgZ(10,"div",6)(11,"form",7),e.NdJ("ngSubmit",function(){return e.CHM(n),e.oxw().onSubmit()}),e.TgZ(12,"div",8)(13,"fieldset")(14,"label",9),e._uU(15,"Minimum sale points:"),e.qZA(),e._UZ(16,"input",10),e.qZA(),e.TgZ(17,"fieldset")(18,"label",11),e._uU(19,"Minimum points per customer:"),e.qZA(),e._UZ(20,"input",12),e.qZA(),e.TgZ(21,"fieldset")(22,"label",13),e._uU(23,"Current sale points:"),e.qZA(),e._UZ(24,"input",14),e.qZA(),e.TgZ(25,"fieldset")(26,"label",15),e._uU(27,"Forbidden User ID:"),e.qZA(),e._UZ(28,"input",16),e.qZA(),e.TgZ(29,"fieldset")(30,"div",17),e.YNc(31,$,5,1,"ng-container",18),e.YNc(32,X,4,1,"ng-template",null,19,e.W1O),e.qZA()()()()(),e.TgZ(34,"div",20)(35,"div",21)(36,"p",22),e._uU(37,"Num of Customers Biding:"),e.qZA(),e.TgZ(38,"h4",23),e._uU(39),e.qZA()(),e.TgZ(40,"div",21)(41,"p",22),e._uU(42,"Date created:"),e.qZA(),e.TgZ(43,"h4",23),e._uU(44),e.ALo(45,"date"),e.qZA()(),e.TgZ(46,"div",21)(47,"p",22),e._uU(48,"Date Closed:"),e.qZA(),e.TgZ(49,"h4",23),e._uU(50),e.ALo(51,"date"),e.YNc(52,ee,2,0,"span",24),e.qZA()(),e.TgZ(53,"div",21)(54,"p",22),e._uU(55," Winner: "),e.YNc(56,te,2,3,"a",25),e.qZA(),e.TgZ(57,"h4",23),e._uU(58),e.YNc(59,re,2,0,"span",24),e.qZA()(),e.TgZ(60,"div",21)(61,"p",22),e._uU(62,"Email sent to Winner?:"),e.qZA(),e.TgZ(63,"h4",23),e._uU(64),e.YNc(65,ie,2,0,"span",26),e.YNc(66,oe,2,0,"span",27),e.qZA()(),e.TgZ(67,"div",21)(68,"p",22),e._uU(69,"Product sent to Winner?:"),e.qZA(),e.TgZ(70,"h4",23),e._uU(71),e.YNc(72,ae,2,0,"span",26),e.YNc(73,se,2,0,"span",27),e.qZA()(),e.YNc(74,de,6,0,"div",28),e.qZA(),e.TgZ(75,"div",29)(76,"div",17),e.YNc(77,ce,2,0,"button",30),e.YNc(78,le,2,0,"button",31),e.TgZ(79,"button",32),e.NdJ("click",function(){return e.CHM(n),e.oxw().onReturn()}),e._uU(80,"Return"),e.qZA()()()()}if(2&r){const n=e.MAs(33),t=e.oxw();e.xp6(5),e.Oqu(t.sale.id),e.xp6(4),e.Oqu(t.sale.productId.title),e.xp6(2),e.Q6J("formGroup",t.saleForm),e.xp6(20),e.Q6J("ngIf",t.editMode)("ngIfElse",n),e.xp6(8),e.hij(" ",t.sale.customers.length," "),e.xp6(5),e.hij(" ",e.xi3(45,21,t.sale.createdAt,"d MMM y, HH:mm")," "),e.xp6(6),e.hij(" ",e.xi3(51,24,t.sale.dateClosed,"d MMM y, HH:mm")||"sale is still open"," "),e.xp6(2),e.Q6J("ngIf",!t.sale.dateClosed),e.xp6(4),e.Q6J("ngIf",!t.sale.open),e.xp6(2),e.hij(" ",t.sale.winner||"sale is still open"," "),e.xp6(1),e.Q6J("ngIf",!t.sale.dateClosed),e.xp6(5),e.hij(" ",t.sale.emailToWinnerSent," "),e.xp6(1),e.Q6J("ngIf",t.sale.emailToWinnerSent),e.xp6(1),e.Q6J("ngIf",!t.sale.emailToWinnerSent),e.xp6(5),e.hij(" ",t.sale.productSent," "),e.xp6(1),e.Q6J("ngIf",t.sale.productSent),e.xp6(1),e.Q6J("ngIf",!t.sale.productSent),e.xp6(1),e.Q6J("ngIf",t.sale.dateClosed),e.xp6(3),e.Q6J("ngIf",!t.sale.emailToWinnerSent&&!t.sale.open),e.xp6(1),e.Q6J("ngIf",!t.sale.productSent&&!t.sale.open)}}function ue(r,o){if(1&r&&(e.TgZ(0,"div",47)(1,"table")(2,"tr")(3,"td"),e._uU(4,"Full Name"),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()(),e.TgZ(7,"tr")(8,"td"),e._uU(9,"Address"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA()(),e.TgZ(12,"tr")(13,"td"),e._uU(14,"Email"),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA()(),e.TgZ(17,"tr")(18,"td"),e._uU(19,"Username"),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA()()()()),2&r){const n=e.oxw();e.xp6(6),e.AsE("",n.winner.data.firstName," ",n.winner.data.lastName,""),e.xp6(5),e.HOy("",n.winner.data.address.homeAddress,", ",n.winner.data.address.postalCode," ",n.winner.data.address.city,", ",n.winner.data.address.country,""),e.xp6(5),e.Oqu(n.winner.data.email),e.xp6(5),e.Oqu(n.winner.data.username)}}let pe=(()=>{class r{constructor(n,t,i,s){this.route=n,this.adminService=t,this.router=i,this.location=s,this.editMode=!1,this.showWinner=!1,this.saleForm=new a.cw({pointsMin:new a.NI(null,a.kI.required),pointsSaleMin:new a.NI(null,a.kI.required),currentPoints:new a.NI(null,a.kI.required),forbiddenUser:new a.NI(null)})}ngOnInit(){this.subscription2=this.adminService.saleDetails(this.route.snapshot.params.saleId).subscribe(t=>{this.sale=t,this.setFormValues(this.sale),this.editMode||this.saleForm.disable()})}onSubmit(){this.subscription1=this.adminService.editSale(this.sale.id,this.saleForm.value).subscribe(n=>{this.reloadComponent()})}setFormValues(n){this.saleForm.patchValue({pointsMin:n.pointsMin,pointsSaleMin:n.pointsSaleMin,currentPoints:n.currentPoints,forbiddenUser:n.forbiddenUser})}onEnterEditMode(){this.editMode=!0,this.saleForm.enable()}onCancelEditMode(){this.editMode=!1,this.saleForm.reset(),this.setFormValues(this.sale),this.saleForm.disable()}onDelete(){confirm("Do you want to delete this sale? Are you sure?")&&(this.subscription3=this.adminService.deleteSale(this.sale.id).subscribe(n=>{console.log(n),this.router.navigate(["/admin/dashboard/all-products"])}))}onReturn(){this.location.back()}onSetSendProductStatus(){this.subscription4=this.adminService.setSendProductStatus(this.sale.id).subscribe(n=>{this.reloadComponent()})}onGetUserDetails(){this.subscription5=this.adminService.getUserDetails(this.sale.winner).subscribe(n=>{this.showWinner=!0,this.winner=n})}reloadComponent(){let n=this.router.url;this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigate([n])}ngOnDestroy(){this.subscription1&&this.subscription1.unsubscribe(),this.subscription2&&this.subscription2.unsubscribe(),this.subscription3&&this.subscription3.unsubscribe(),this.subscription4&&this.subscription4.unsubscribe(),this.subscription5&&this.subscription5.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(p.gz),e.Y36(_),e.Y36(p.F0),e.Y36(d.Ye))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-admin-sale-form"]],decls:3,vars:3,consts:[["class","admin-product-card__part",4,"ngIf"],["class","admin-page",4,"ngIf"],["class","winner-details",4,"ngIf"],[1,"admin-product-card__part"],[1,"admin-page"],[1,"admin-page-heading"],[1,"admin-form-container"],[1,"admin-form",3,"formGroup","ngSubmit"],[1,"admin-form-content-container"],["for","pointsSaleMin"],["type","number","required","","formControlName","pointsSaleMin","id","pointsSaleMin"],["for","pointsMin"],["type","number","required","","formControlName","pointsMin","id","pointsMin"],["for","currentPoints"],["type","number","required","","formControlName","currentPoints","id","currentPoints"],["for","forbiddenUser"],["type","text","formControlName","forbiddenUser","id","forbiddenUser"],[1,"admin-form-controls"],[4,"ngIf","ngIfElse"],["editBtn",""],[1,"admin-sale-info"],[1,"admin-sale-info_card"],[1,"admin-sale-info_card__text"],[1,"admin-sale-info_card__heading"],["class","admin-sale-info_card-mark--orange",4,"ngIf"],["class","winner-data-link",3,"routerLink",4,"ngIf"],["class","admin-sale-info_card-mark--green",4,"ngIf"],["class","admin-sale-info_card-mark--red",4,"ngIf"],["class","admin-sale-info_card winner-link-container",4,"ngIf"],[1,"admin-sale-form_bottom"],["type","button","class","btn btn-primary admin-form-btn",4,"ngIf"],["type","button","class","btn btn-primary admin-form-btn",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","admin-form-btn",3,"click"],["type","submit",1,"btn","btn-red","admin-form-btn",3,"disabled"],["type","button",1,"btn","btn-secondary","admin-form-btn",3,"click"],["type","button",1,"btn","btn-primary","admin-form-btn",3,"disabled","click"],["type","button",1,"btn","btn-red","admin-form-btn",3,"click"],[1,"admin-sale-info_card-mark--orange"],[1,"fas","fa-exclamation-triangle"],[1,"winner-data-link",3,"routerLink"],[1,"admin-sale-info_card-mark--green"],[1,"far","fa-check-square"],[1,"admin-sale-info_card-mark--red"],[1,"far","fa-times-circle"],[1,"admin-sale-info_card","winner-link-container"],[1,"winner-link",3,"click"],["type","button",1,"btn","btn-primary","admin-form-btn"],[1,"winner-details"]],template:function(n,t){1&n&&(e.YNc(0,B,2,0,"div",0),e.YNc(1,me,81,27,"div",1),e.YNc(2,ue,22,8,"div",2)),2&n&&(e.Q6J("ngIf",!t.sale),e.xp6(1),e.Q6J("ngIf",t.sale),e.xp6(1),e.Q6J("ngIf",t.showWinner))},directives:[d.O5,a._Y,a.JL,a.sg,a.wV,a.Fj,a.Q7,a.JJ,a.u,p.yS],pipes:[d.uU],styles:[".admin-form-container[_ngcontent-%COMP%]{padding:2rem 3rem 1rem}.admin-form[_ngcontent-%COMP%]{background-color:#f2f7fb}.admin-form-content-container[_ngcontent-%COMP%]{padding:1rem 2rem}.admin-sale-info[_ngcontent-%COMP%]{padding:0 2rem}.admin-sale-info_card[_ngcontent-%COMP%]{padding:1rem;margin:1rem;background-color:#fff;display:inline-block;box-shadow:0 8px 16px #0003}.admin-form-controls[_ngcontent-%COMP%]   button.admin-form-btn[_ngcontent-%COMP%]{display:inline-block;border-radius:0;padding:1rem 3rem;margin-right:2rem;width:20rem;border-radius:.5rem}.admin-form-controls[_ngcontent-%COMP%]   button.admin-form-btn[_ngcontent-%COMP%]:disabled{background-color:#5f9ea0}.admin-sale-form_bottom[_ngcontent-%COMP%]{padding:1rem 3rem}.admin-sale-info_card-mark--green[_ngcontent-%COMP%]{color:green}.admin-sale-info_card-mark--red[_ngcontent-%COMP%]{color:red}.admin-sale-info_card-mark--orange[_ngcontent-%COMP%]{color:orange}.admin-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#fff}.admin-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{border:1px solid #F2F7FB;background-color:#f2f7fb}.winner-link[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer}.winner-link-container[_ngcontent-%COMP%]{border:1px solid var(--primary-color)}.winner-details[_ngcontent-%COMP%]{font-size:1.6rem;padding:1rem 3rem 2rem}.admin-sale-info_card__text[_ngcontent-%COMP%]{font-size:1.4rem}.admin-sale-info_card__heading[_ngcontent-%COMP%]{font-size:1.6rem}table[_ngcontent-%COMP%]{font-size:1.6rem;border:1px solid #444}tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:1rem 2rem;border:1px solid #555}.winner-data-link[_ngcontent-%COMP%]{text-decoration:none;font-size:1.4rem;font-weight:600;color:var(--primary-color)}.winner-data-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),r})();function ge(r,o){1&r&&(e.TgZ(0,"div",13)(1,"span",14),e._UZ(2,"i",15),e.qZA()())}function _e(r,o){1&r&&(e.TgZ(0,"div",13)(1,"span",16),e._UZ(2,"i",17),e.qZA()())}function fe(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"a",18),e.NdJ("click",function(){return e.CHM(n),e.oxw().onDelete()}),e._uU(1,"Delete"),e.qZA()}}const he=function(r){return["/admin/dashboard/sale",r]};let be=(()=>{class r{constructor(n,t){this.adminService=n,this.router=t}ngOnInit(){}onDelete(){confirm("Do you want to delete this sale? Are you sure?")&&(this.deleteSubscription=this.adminService.deleteSale(this.sale.id).subscribe(n=>{this.reloadComponent()}))}reloadComponent(){let t=this.router.url.split("?")[0];this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigate([t],{queryParamsHandling:"preserve"})}onGoToProduct(){this.router.navigate(["/admin/dashboard/product-form"],{queryParams:{edit:!0,productId:this.sale.productId}})}ngOnDestroy(){this.deleteSubscription&&this.deleteSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(_),e.Y36(p.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-admin-sale-card"]],inputs:{sale:"sale"},decls:49,vars:25,consts:[[1,"admin-sale-card"],[1,"dmin-sale-card-head"],[1,"admin-sale-card-heading"],["class","admin-sale-info_card--sign-container",4,"ngIf"],[1,"admin-sale-card__controls-container"],[1,"admin-sale-card__controls"],["class","sale-card-btn btn-red",3,"click",4,"ngIf"],[1,"sale-card-btn","btn-primary",3,"routerLink"],[1,"admin-sale-info"],[1,"admin-sale-info_card","admin-sale-info_card--clickable",3,"click"],[1,"admin-sale-info_card__text"],[1,"admin-sale-info_card__heading"],[1,"admin-sale-info_card"],[1,"admin-sale-info_card--sign-container"],[1,"admin-sale-info_card-sign--bad"],[1,"fas","fa-exclamation-triangle"],[1,"admin-sale-info_card-sign--good"],[1,"fas","fa-thumbs-up"],[1,"sale-card-btn","btn-red",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.YNc(4,ge,3,0,"div",3),e.YNc(5,_e,3,0,"div",3),e.TgZ(6,"div",4)(7,"div",5),e.YNc(8,fe,2,0,"a",6),e.TgZ(9,"a",7),e._uU(10),e.qZA()()()(),e.TgZ(11,"div",8)(12,"div",9),e.NdJ("click",function(){return t.onGoToProduct()}),e.TgZ(13,"p",10),e._uU(14,"Product ID:"),e.qZA(),e.TgZ(15,"h4",11),e._uU(16),e.qZA()(),e.TgZ(17,"div",12)(18,"p",10),e._uU(19,"Customers Biding:"),e.qZA(),e.TgZ(20,"h4",11),e._uU(21),e.qZA()(),e.TgZ(22,"div",12)(23,"p",10),e._uU(24,"Date created:"),e.qZA(),e.TgZ(25,"h4",11),e._uU(26),e.ALo(27,"date"),e.qZA()(),e.TgZ(28,"div",12)(29,"p",10),e._uU(30,"Date Closed:"),e.qZA(),e.TgZ(31,"h4",11),e._uU(32),e.ALo(33,"date"),e.qZA()(),e.TgZ(34,"div",12)(35,"p",10),e._uU(36,"Winner:"),e.qZA(),e.TgZ(37,"h4",11),e._uU(38),e.qZA()(),e.TgZ(39,"div",12)(40,"p",10),e._uU(41,"Email sent to Winner?:"),e.qZA(),e.TgZ(42,"h4",11),e._uU(43),e.qZA()(),e.TgZ(44,"div",12)(45,"p",10),e._uU(46,"Product Sent To Winner?:"),e.qZA(),e.TgZ(47,"h4",11),e._uU(48),e.qZA()()()()),2&n&&(e.ekj("open",!t.sale.dateClosed)("closed",t.sale.dateClosed),e.xp6(3),e.hij(" ",t.sale.id," "),e.xp6(1),e.Q6J("ngIf",t.sale.dateClosed&&(!t.sale.emailToWinnerSent||!t.sale.productSent)),e.xp6(1),e.Q6J("ngIf",t.sale.emailToWinnerSent&&t.sale.productSent),e.xp6(3),e.Q6J("ngIf",!t.sale.dateClosed),e.xp6(1),e.Q6J("routerLink",e.VKq(23,he,t.sale.id)),e.xp6(1),e.Oqu(t.sale.dateClosed&&t.sale.productSent&&t.sale.emailToWinnerSent?"Info":"Edit / Info"),e.xp6(6),e.hij(" ",t.sale.productId," "),e.xp6(5),e.hij(" ",t.sale.customers.length," "),e.xp6(5),e.hij(" ",e.xi3(27,17,t.sale.createdAt,"d MMM y, HH:mm")," "),e.xp6(6),e.hij(" ",e.xi3(33,20,t.sale.dateClosed,"d MMM y, HH:mm")||"sale is still open"," "),e.xp6(6),e.hij(" ",t.sale.winner||"sale is still open"," "),e.xp6(5),e.hij(" ",t.sale.emailToWinnerSent," "),e.xp6(5),e.hij(" ",t.sale.productSent," "))},directives:[d.O5,p.yS],pipes:[d.uU],styles:[".admin-sale-card[_ngcontent-%COMP%]{margin:.3rem;border:2px solid transparent}.open[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#c8f8eb,#92f1d7)}.closed[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fecfcc,#ffa09a)}.admin-sale-card[_ngcontent-%COMP%]:hover{border:2px solid #444}.admin-sale-info[_ngcontent-%COMP%]{padding-left:1rem;margin-bottom:.5rem}.admin-sale-info_card[_ngcontent-%COMP%]{padding:.5rem;margin:.3rem;background-color:#fff;display:inline-block;box-shadow:0 4px 8px #0003}.admin-sale-card__controls-container[_ngcontent-%COMP%]{display:inline-block}.admin-sale-card__controls[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:.5rem 1rem}.sale-card-btn[_ngcontent-%COMP%]{padding:.5rem 2rem;margin:0 1rem;color:#fff;font-size:1.4rem;border-radius:.5rem;cursor:pointer}.admin-sale-info_card--clickable[_ngcontent-%COMP%]{cursor:pointer;border:1px solid var(--primary-color)}.admin-sale-info_card--clickable[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);color:#fff}.admin-sale-card-head[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}h2.admin-sale-card-heading[_ngcontent-%COMP%]{font-size:1.6rem;padding:1rem;margin:0;display:inline-block}.admin-sale-info_card__text[_ngcontent-%COMP%]{font-size:1.4rem}.admin-sale-info_card__heading[_ngcontent-%COMP%]{font-size:1.4rem;margin:0}.admin-sale-info_card--sign-container[_ngcontent-%COMP%]{display:inline-block;padding-right:2rem}.admin-sale-info_card-sign--bad[_ngcontent-%COMP%]{color:red;font-size:2rem;padding:0}.admin-sale-info_card-sign--good[_ngcontent-%COMP%]{color:green;font-size:2rem;padding:0}"]}),r})();function Ze(r,o){1&r&&(e.TgZ(0,"div",3),e._UZ(1,"app-admin-loading"),e.qZA())}function Ce(r,o){1&r&&e._UZ(0,"app-admin-sale-card",6),2&r&&e.Q6J("sale",o.$implicit)}function Ae(r,o){if(1&r&&(e.TgZ(0,"div",4),e.YNc(1,Ce,1,1,"app-admin-sale-card",5),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.adminSales)}}function Pe(r,o){1&r&&(e.ynx(0),e.TgZ(1,"span",15),e._UZ(2,"i",16),e.qZA(),e.TgZ(3,"span",15),e._UZ(4,"i",17),e.qZA(),e.BQk())}function ve(r,o){if(1&r){const n=e.EpF();e.ynx(0),e.TgZ(1,"span",18),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).goToPage(1)}),e._UZ(2,"i",16),e.qZA(),e.TgZ(3,"span",18),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2);return i.goToPage(i.currentPage-1)}),e._UZ(4,"i",17),e.qZA(),e.BQk()}}function Te(r,o){if(1&r){const n=e.EpF();e.ynx(0),e.TgZ(1,"span",18),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2);return i.goToPage(i.currentPage+1)}),e._UZ(2,"i",19),e.qZA(),e.TgZ(3,"span",18),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2);return i.goToPage(i.totalPages)}),e._UZ(4,"i",20),e.qZA(),e.BQk()}}function Ue(r,o){1&r&&(e.ynx(0),e.TgZ(1,"span",15),e._UZ(2,"i",20),e.qZA(),e.TgZ(3,"span",15),e._UZ(4,"i",19),e.qZA(),e.BQk())}function xe(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"div",7),e.YNc(1,Pe,5,0,"ng-container",8),e.YNc(2,ve,5,0,"ng-container",8),e.TgZ(3,"span",9),e._uU(4," page "),e.TgZ(5,"span",10),e._uU(6),e.qZA(),e._uU(7),e.qZA(),e.YNc(8,Te,5,0,"ng-container",8),e.YNc(9,Ue,5,0,"ng-container",8),e.TgZ(10,"span",11),e._uU(11," go to page: "),e.TgZ(12,"input",12,13),e.NdJ("keyup.enter",function(){e.CHM(n);const i=e.MAs(13);return e.oxw().goToPage(+i.value)}),e.qZA(),e.TgZ(14,"button",14),e.NdJ("click",function(){e.CHM(n);const i=e.MAs(13);return e.oxw().goToPage(+i.value)}),e._uU(15,"Go"),e.qZA()()()}if(2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",1===n.currentPage),e.xp6(1),e.Q6J("ngIf",1!==n.currentPage),e.xp6(4),e.Oqu(n.currentPage),e.xp6(1),e.hij(" of ",n.totalPages," pages "),e.xp6(1),e.Q6J("ngIf",n.currentPage!==n.totalPages),e.xp6(1),e.Q6J("ngIf",n.currentPage===n.totalPages)}}let Se=(()=>{class r{constructor(n,t){this.adminService=n,this.route=t,this.currentPage=1,this.itemsPerPage=30}ngOnInit(){this.subscription1=this.route.queryParams.subscribe(n=>{this.saleStatus=n.saleStatus,this.adminSales=null,"open"===this.saleStatus?this.subscription2=this.adminService.getOpenSales().subscribe(t=>{this.adminSales=t.data}):"closed"===this.saleStatus?this.subscription3=this.adminService.getClosedSales().subscribe(t=>{this.adminSales=t.data}):"finished"===this.saleStatus&&(this.subscription4=this.adminService.getFinishedSales(this.currentPage,this.itemsPerPage).subscribe(t=>{this.adminSales=t.data,this.totalItems=t.results,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage)}))})}goToPage(n){0===n||n>this.totalPages||(this.currentPage=n,this.subscription5=this.adminService.getFinishedSales(this.currentPage,this.itemsPerPage).subscribe(t=>{this.adminSales=t.data}))}ngOnDestroy(){this.subscription1&&this.subscription1.unsubscribe(),this.subscription2&&this.subscription2.unsubscribe(),this.subscription3&&this.subscription3.unsubscribe(),this.subscription4&&this.subscription4.unsubscribe(),this.subscription5&&this.subscription5.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(_),e.Y36(p.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-admin-sales"]],decls:4,vars:3,consts:[["class","admin-loading-container",4,"ngIf"],["class","admin-page sales",4,"ngIf"],["class","paginator",4,"ngIf"],[1,"admin-loading-container"],[1,"admin-page","sales"],[3,"sale",4,"ngFor","ngForOf"],[3,"sale"],[1,"paginator"],[4,"ngIf"],[1,"paginator-dashboard"],[1,"current-page--2"],[1,"paginator-dashboard","paginator-command"],["type","number","id","paginator-command-input",3,"keyup.enter"],["page",""],[1,"paginator-command-btn",3,"click"],[1,"paginator-button-disabled"],[1,"fas","fa-fast-backward"],[1,"fas","fa-backward"],[1,"paginator-button",3,"click"],[1,"fas","fa-forward"],[1,"fas","fa-fast-forward"]],template:function(n,t){1&n&&(e.YNc(0,Ze,2,0,"div",0),e.YNc(1,Ae,2,1,"div",1),e.YNc(2,xe,16,6,"div",2),e._UZ(3,"app-scroll-to-top")),2&n&&(e.Q6J("ngIf",!t.adminSales),e.xp6(1),e.Q6J("ngIf",t.adminSales),e.xp6(1),e.Q6J("ngIf","finished"===t.saleStatus))},directives:[d.O5,C,d.sg,be,A.H],styles:[".sales[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;padding:1rem}.paginator[_ngcontent-%COMP%]{margin-top:3rem;text-align:center;border-top:1px solid var(--gray-color);padding:2rem}.paginator-button[_ngcontent-%COMP%]{padding:1rem;font-size:1.6rem;color:var(--primary-color);cursor:pointer;border-radius:.2rem;transition:background-color .2s}.paginator-button-num[_ngcontent-%COMP%]:hover{background-color:var(--gray-color);color:#fff}.current-page[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff}.current-page--2[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:600;color:var(--primary-color)}.paginator-button-disabled[_ngcontent-%COMP%]{padding:1rem;font-size:1.6rem;color:var(--gray-color)}.paginator-dashboard[_ngcontent-%COMP%]{padding:1rem;font-size:1.6rem}.paginator-command[_ngcontent-%COMP%]{margin-left:3rem}#paginator-command-input[_ngcontent-%COMP%]{font-size:1.4rem;border:1px solid var(--gray-color);width:4.3rem;padding:.5rem;-moz-appearance:textfield}#paginator-command-input[_ngcontent-%COMP%]::-webkit-inner-spin-button, #paginator-command-input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}#paginator-command-input[_ngcontent-%COMP%]:focus{outline:1px solid var(--primary-color)}.paginator-command-btn[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;font-size:1.6rem;border:none;text-transform:uppercase;padding:.5rem 1rem;cursor:pointer;transition:all .2s;margin-left:.5rem}@media only screen and (max-width: 599px){.paginator[_ngcontent-%COMP%]{padding:1rem}.paginator-button[_ngcontent-%COMP%]{padding:.8rem;font-size:1.4rem}.current-page--2[_ngcontent-%COMP%]{font-size:1.6rem}.paginator-button-disabled[_ngcontent-%COMP%]{padding:.8rem;font-size:1.4rem}.paginator-dashboard[_ngcontent-%COMP%]{font-size:1.4rem}.paginator-command[_ngcontent-%COMP%]{margin:1rem auto;display:block}.paginator-command-btn[_ngcontent-%COMP%]{font-size:1.4rem;padding:.4rem .8rem}}"]}),r})();function Me(r,o){if(1&r){const n=e.EpF();e.ynx(0),e.TgZ(1,"button",31),e._uU(2,"Save"),e.qZA(),e.TgZ(3,"button",32),e.NdJ("click",function(){return e.CHM(n),e.oxw().onCancelEditMode()}),e._uU(4,"Cancel"),e.qZA(),e.BQk()}if(2&r){const n=e.oxw();e.xp6(1),e.Q6J("disabled",!n.adminUserDetailsForm.valid)}}function ye(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){return e.CHM(n),e.oxw().onReturn()}),e._uU(1,"Return"),e.qZA(),e.TgZ(2,"button",34),e.NdJ("click",function(){return e.CHM(n),e.oxw().onEnterEditMode()}),e._uU(3,"Edit"),e.qZA(),e.TgZ(4,"button",35),e.NdJ("click",function(){return e.CHM(n),e.oxw().onDelete()}),e._uU(5,"Delete"),e.qZA()}}let qe=(()=>{class r{constructor(n,t,i,s){this.route=n,this.adminService=t,this.router=i,this.location=s,this.editMode=!1,this.adminUserDetailsForm=new a.cw({firstName:new a.NI(null,a.kI.required),lastName:new a.NI(null,a.kI.required),email:new a.NI(null,[a.kI.required,a.kI.email]),country:new a.NI(null,a.kI.required),homeAddress:new a.NI(null,a.kI.required),postalCode:new a.NI(null,a.kI.required),city:new a.NI(null,a.kI.required),role:new a.NI(null,a.kI.required),level:new a.NI(null,a.kI.required),points:new a.NI(null,a.kI.required)})}ngOnInit(){this.userDetailsSubscription=this.adminService.getUserDetails(this.route.snapshot.params.userId).subscribe(t=>{this.user=t.data,this.setFormValues(this.user),this.username=this.user.username,this.active=this.user.active,this.passwordChangedAt=this.user.passwordChangedAt,this.passwordResetToken=this.user.passwordResetToken,this.passwordResetExpires=this.user.passwordResetExpires,this.spending=this.user.spending,this.wishlist=this.user.wishlist,this.salesWon=t.salesWon,this.editMode||this.adminUserDetailsForm.disable()})}onSubmit(){this.editUserSubscription=this.adminService.editUser(this.user._id,this.adminUserDetailsForm.value).subscribe(n=>{this.reloadComponent()})}setFormValues(n){this.adminUserDetailsForm.patchValue({firstName:n.firstName,lastName:n.lastName,email:n.email,country:n.address.country,homeAddress:n.address.homeAddress,postalCode:n.address.postalCode,city:n.address.city,role:n.role,level:n.level,points:n.points})}onEnterEditMode(){this.editMode=!0,this.adminUserDetailsForm.enable()}onCancelEditMode(){this.editMode=!1,this.adminUserDetailsForm.reset(),this.setFormValues(this.user),this.adminUserDetailsForm.disable()}onDelete(){confirm("Do you want to delete this user? Are you sure?")&&(this.deleteUserSubscription=this.adminService.deleteUser(this.user._id).subscribe(n=>{this.router.navigate(["/admin/dashboard/users"])}))}onReturn(){this.location.back()}reloadComponent(){let n=this.router.url;this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigate([n])}ngOnDestroy(){this.userDetailsSubscription.unsubscribe(),this.editUserSubscription&&this.editUserSubscription.unsubscribe(),this.deleteUserSubscription&&this.deleteUserSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(p.gz),e.Y36(_),e.Y36(p.F0),e.Y36(d.Ye))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-admin-user-details"]],decls:72,vars:12,consts:[[1,"admin-page"],[1,"admin-page-heading"],[1,"admin-user-details-heading"],[1,"admin-form-container"],[1,"admin-form",3,"formGroup","ngSubmit"],[1,"admin-form-content-container"],["for","firstName"],["placeholder","firstName","type","text","formControlName","firstName","id","firstName"],["for","lastName"],["placeholder","lastName","type","text","formControlName","lastName","id","lastName"],["for","email"],["placeholder","email","type","email","formControlName","email","id","email"],["for","country"],["placeholder","country","type","text","formControlName","country","id","country"],["for","homeAddress"],["placeholder","homeAddress","type","text","formControlName","homeAddress","id","homeAddress"],["for","postalCode"],["placeholder","postalCode","type","text","formControlName","postalCode","id","postalCode"],["for","city"],["placeholder","city","type","text","formControlName","city","id","city"],["for","role"],["formControlName","role","id","role","size","1"],["value","user"],["value","admin"],["for","level"],["placeholder","level","type","number","formControlName","level","id","level"],["for","points"],["placeholder","points","type","number","formControlName","points","id","points"],[1,"admin-form-controls"],[4,"ngIf","ngIfElse"],["editBtn",""],["type","submit",1,"btn","btn-red","admin-form-btn",3,"disabled"],["type","button",1,"btn","btn-secondary","admin-form-btn",3,"click"],["type","button",1,"btn","btn-ternary","admin-form-btn",3,"click"],["type","button",1,"btn","btn-primary","admin-form-btn",3,"click"],["type","button",1,"btn","btn-red","admin-form-btn",3,"click"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3),e.qZA(),e.TgZ(4,"h3",2),e._uU(5),e.qZA(),e.TgZ(6,"h4",2),e._uU(7),e.qZA()(),e.TgZ(8,"div",3)(9,"form",4),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(10,"div",5)(11,"fieldset")(12,"label",6),e._uU(13,"firstName:"),e.qZA(),e._UZ(14,"input",7),e.qZA(),e.TgZ(15,"fieldset")(16,"label",8),e._uU(17,"lastName:"),e.qZA(),e._UZ(18,"input",9),e.qZA(),e.TgZ(19,"fieldset")(20,"label",10),e._uU(21,"email:"),e.qZA(),e._UZ(22,"input",11),e.qZA(),e.TgZ(23,"fieldset")(24,"label",12),e._uU(25,"country:"),e.qZA(),e._UZ(26,"input",13),e.qZA(),e.TgZ(27,"fieldset")(28,"label",14),e._uU(29,"homehomeAddress:"),e.qZA(),e._UZ(30,"input",15),e.qZA(),e.TgZ(31,"fieldset")(32,"label",16),e._uU(33,"postalCode:"),e.qZA(),e._UZ(34,"input",17),e.qZA(),e.TgZ(35,"fieldset")(36,"label",18),e._uU(37,"city:"),e.qZA(),e._UZ(38,"input",19),e.qZA(),e.TgZ(39,"fieldset")(40,"label",20),e._uU(41,"Role:"),e.qZA(),e.TgZ(42,"select",21)(43,"option",22),e._uU(44,"user"),e.qZA(),e.TgZ(45,"option",23),e._uU(46,"admin"),e.qZA()()(),e.TgZ(47,"fieldset")(48,"label",24),e._uU(49,"level:"),e.qZA(),e._UZ(50,"input",25),e.qZA(),e.TgZ(51,"fieldset")(52,"label",26),e._uU(53,"points:"),e.qZA(),e._UZ(54,"input",27),e.qZA(),e.TgZ(55,"fieldset")(56,"div",28),e.YNc(57,Me,5,1,"ng-container",29),e.YNc(58,ye,6,0,"ng-template",null,30,e.W1O),e.qZA()()()()(),e.TgZ(60,"p"),e._uU(61),e.qZA(),e.TgZ(62,"p"),e._uU(63),e.qZA(),e.TgZ(64,"p"),e._uU(65),e.qZA(),e.TgZ(66,"p"),e._uU(67),e.qZA(),e.TgZ(68,"p"),e._uU(69),e.qZA(),e.TgZ(70,"p"),e._uU(71),e.qZA()()),2&n){const i=e.MAs(59);e.xp6(3),e.Oqu(t.user?t.user.id:""),e.xp6(2),e.Oqu(t.username),e.xp6(2),e.hij("Sales Won: ",t.salesWon,""),e.xp6(2),e.Q6J("formGroup",t.adminUserDetailsForm),e.xp6(48),e.Q6J("ngIf",t.editMode)("ngIfElse",i),e.xp6(4),e.hij("active: ",t.active,""),e.xp6(2),e.hij("passwordChangedAt: ",t.passwordChangedAt,""),e.xp6(2),e.hij("passwordResetToken: ",t.passwordResetToken,""),e.xp6(2),e.hij("passwordResetExpires: ",t.passwordResetExpires,""),e.xp6(2),e.hij("spending: ",t.spending,""),e.xp6(2),e.hij("wishlist: ",t.wishlist,"")}},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.EJ,a.YN,a.Kr,a.wV,d.O5],styles:[".admin-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{border:1px solid #F2F7FB;background-color:#f2f7fb}.admin-form[_ngcontent-%COMP%]{background-color:#f2f7fb}h3.admin-user-details-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:600;margin:1.2rem 0}h4.admin-user-details-heading[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;margin:0}.admin-page-heading[_ngcontent-%COMP%]{padding:1.8rem 2rem}"]}),r})();const ke=function(r){return["../admin-user-details",r]};function Oe(r,o){if(1&r&&(e.TgZ(0,"div",3)(1,"div",4)(2,"h5",5),e._uU(3),e.qZA(),e.TgZ(4,"h3",5),e._uU(5),e.qZA(),e.TgZ(6,"h4",5),e._uU(7),e.qZA()(),e.TgZ(8,"p"),e._uU(9),e.qZA(),e.TgZ(10,"p"),e._uU(11),e.qZA(),e.TgZ(12,"p"),e._uU(13),e.qZA(),e.TgZ(14,"p"),e._uU(15),e.qZA(),e.TgZ(16,"p"),e._uU(17),e.qZA(),e.TgZ(18,"p"),e._uU(19),e.ALo(20,"date"),e.qZA(),e.TgZ(21,"p"),e._uU(22),e.qZA(),e.TgZ(23,"p"),e._uU(24),e.qZA(),e.TgZ(25,"p"),e._uU(26),e.qZA(),e.TgZ(27,"a",6),e._uU(28,"Edit"),e.qZA()()),2&r){const n=o.$implicit;e.xp6(3),e.hij(" ",n.id," "),e.xp6(2),e.AsE(" ",n.firstName," ",n.lastName," "),e.xp6(2),e.hij(" email: ",n.email," "),e.xp6(2),e.hij("role: ",n.role,""),e.xp6(2),e.hij("level: ",n.level,""),e.xp6(2),e.hij("points: ",n.points,""),e.xp6(2),e.hij("wishlist-length: ",n.wishlist.length,""),e.xp6(2),e.hij("username: ",n.username,""),e.xp6(2),e.hij("created at: ",e.lcZ(20,17,n.createdAt),""),e.xp6(3),e.HOy("address: ",n.address.country,", ",n.address.homeAddress,", ",n.address.postalCode,", ",n.address.city,""),e.xp6(2),e.hij("active?: ",n.active,""),e.xp6(2),e.hij("spending: ",n.spending,""),e.xp6(1),e.Q6J("routerLink",e.VKq(19,ke,n.id))}}function we(r,o){1&r&&(e.ynx(0),e.TgZ(1,"span",15),e._UZ(2,"i",16),e.qZA(),e.TgZ(3,"span",15),e._UZ(4,"i",17),e.qZA(),e.BQk())}function Ne(r,o){if(1&r){const n=e.EpF();e.ynx(0),e.TgZ(1,"span",18),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).goToPage(1)}),e._UZ(2,"i",16),e.qZA(),e.TgZ(3,"span",18),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2);return i.goToPage(i.currentPage-1)}),e._UZ(4,"i",17),e.qZA(),e.BQk()}}function Fe(r,o){if(1&r){const n=e.EpF();e.ynx(0),e.TgZ(1,"span",18),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2);return i.goToPage(i.currentPage+1)}),e._UZ(2,"i",19),e.qZA(),e.TgZ(3,"span",18),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2);return i.goToPage(i.totalPages)}),e._UZ(4,"i",20),e.qZA(),e.BQk()}}function Ie(r,o){1&r&&(e.ynx(0),e.TgZ(1,"span",15),e._UZ(2,"i",20),e.qZA(),e.TgZ(3,"span",15),e._UZ(4,"i",19),e.qZA(),e.BQk())}function Je(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"div",7),e.YNc(1,we,5,0,"ng-container",8),e.YNc(2,Ne,5,0,"ng-container",8),e.TgZ(3,"span",9),e._uU(4," page "),e.TgZ(5,"span",10),e._uU(6),e.qZA(),e._uU(7),e.qZA(),e.YNc(8,Fe,5,0,"ng-container",8),e.YNc(9,Ie,5,0,"ng-container",8),e.TgZ(10,"span",11),e._uU(11," go to page: "),e.TgZ(12,"input",12,13),e.NdJ("keyup.enter",function(){e.CHM(n);const i=e.MAs(13);return e.oxw().goToPage(+i.value)}),e.qZA(),e.TgZ(14,"button",14),e.NdJ("click",function(){e.CHM(n);const i=e.MAs(13);return e.oxw().goToPage(+i.value)}),e._uU(15,"Go"),e.qZA()()()}if(2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",1===n.currentPage),e.xp6(1),e.Q6J("ngIf",1!==n.currentPage),e.xp6(4),e.Oqu(n.currentPage),e.xp6(1),e.hij(" of ",n.totalPages," pages "),e.xp6(1),e.Q6J("ngIf",n.currentPage!==n.totalPages),e.xp6(1),e.Q6J("ngIf",n.currentPage===n.totalPages)}}let Ee=(()=>{class r{constructor(n){this.adminService=n,this.currentPage=1,this.itemsPerPage=30}ngOnInit(){this.allUsersSubscription=this.adminService.getAllUsers(this.currentPage,this.itemsPerPage).subscribe(n=>{this.allUsers=n.data,this.totalItems=n.results,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage)})}goToPage(n){0===n||n>this.totalPages||(this.currentPage=n,this.goToPageSubscription=this.adminService.getAllUsers(this.currentPage,this.itemsPerPage).subscribe(t=>{this.allUsers=t.data}))}ngOnDestroy(){this.allUsersSubscription.unsubscribe(),this.goToPageSubscription&&this.goToPageSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(_))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-admin-users"]],decls:3,vars:2,consts:[[1,"admin-users-container"],["class","admin-user-card",4,"ngFor","ngForOf"],["class","paginator",4,"ngIf"],[1,"admin-user-card"],[1,"admin-user-card-header"],[1,"admin-user-card-heading"],[1,"user-edit-link",3,"routerLink"],[1,"paginator"],[4,"ngIf"],[1,"paginator-dashboard"],[1,"current-page--2"],[1,"paginator-dashboard","paginator-command"],["type","number","id","paginator-command-input",3,"keyup.enter"],["page",""],[1,"paginator-command-btn",3,"click"],[1,"paginator-button-disabled"],[1,"fas","fa-fast-backward"],[1,"fas","fa-backward"],[1,"paginator-button",3,"click"],[1,"fas","fa-forward"],[1,"fas","fa-fast-forward"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Oe,29,21,"div",1),e.qZA(),e.YNc(2,Je,16,6,"div",2)),2&n&&(e.xp6(1),e.Q6J("ngForOf",t.allUsers),e.xp6(1),e.Q6J("ngIf",!0))},directives:[d.sg,p.yS,d.O5],pipes:[d.uU],styles:[".admin-users-container[_ngcontent-%COMP%]{padding:2rem;display:flex;flex-wrap:wrap}.admin-user-card[_ngcontent-%COMP%]{padding:2rem;box-shadow:0 8px 16px #0003;background-color:#fff;margin:1rem;display:inline-block;max-width:25rem;height:100%}.admin-user-card-header[_ngcontent-%COMP%]{padding-bottom:1rem;border-bottom:1px solid darkcyan}.admin-user-card[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:1.4rem}h3.admin-user-card-heading[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:600}h4.admin-user-card-heading[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:400}h5.admin-user-card-heading[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600}.paginator[_ngcontent-%COMP%]{margin-top:3rem;text-align:center;border-top:1px solid var(--gray-color);padding:2rem}.paginator-button[_ngcontent-%COMP%]{padding:1rem;font-size:1.6rem;color:var(--primary-color);cursor:pointer;border-radius:.2rem;transition:background-color .2s}.paginator-button-num[_ngcontent-%COMP%]:hover{background-color:var(--gray-color);color:#fff}.current-page[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff}.current-page--2[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:600;color:var(--primary-color)}.paginator-button-disabled[_ngcontent-%COMP%]{padding:1rem;font-size:1.6rem;color:var(--gray-color)}.paginator-dashboard[_ngcontent-%COMP%]{padding:1rem;font-size:1.6rem}.paginator-command[_ngcontent-%COMP%]{margin-left:3rem}#paginator-command-input[_ngcontent-%COMP%]{font-size:1.4rem;border:1px solid var(--gray-color);width:4.3rem;padding:.5rem;-moz-appearance:textfield}#paginator-command-input[_ngcontent-%COMP%]::-webkit-inner-spin-button, #paginator-command-input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}#paginator-command-input[_ngcontent-%COMP%]:focus{outline:1px solid var(--primary-color)}.paginator-command-btn[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;font-size:1.6rem;border:none;text-transform:uppercase;padding:.5rem 1rem;cursor:pointer;transition:all .2s;margin-left:.5rem}a.user-edit-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:600;font-size:1.6rem;margin-top:1rem}a.user-edit-link[_ngcontent-%COMP%]:hover{text-decoration:underline}@media only screen and (max-width: 599px){.paginator[_ngcontent-%COMP%]{padding:1rem}.paginator-button[_ngcontent-%COMP%]{padding:.8rem;font-size:1.4rem}.current-page--2[_ngcontent-%COMP%]{font-size:1.6rem}.paginator-button-disabled[_ngcontent-%COMP%]{padding:.8rem;font-size:1.4rem}.paginator-dashboard[_ngcontent-%COMP%]{font-size:1.4rem}.paginator-command[_ngcontent-%COMP%]{margin:1rem auto;display:block}.paginator-command-btn[_ngcontent-%COMP%]{font-size:1.4rem;padding:.4rem .8rem}}"]}),r})();const Qe=function(r){return["../admin-user-details",r]};function Ye(r,o){if(1&r&&(e.TgZ(0,"div",2)(1,"div",3)(2,"h5",4),e._uU(3),e.qZA(),e.TgZ(4,"h3",4),e._uU(5),e.qZA(),e.TgZ(6,"h4",4),e._uU(7),e.qZA()(),e.TgZ(8,"p"),e._uU(9),e.qZA(),e.TgZ(10,"p"),e._uU(11),e.qZA(),e.TgZ(12,"p"),e._uU(13),e.qZA(),e.TgZ(14,"p"),e._uU(15),e.qZA(),e.TgZ(16,"p"),e._uU(17),e.qZA(),e.TgZ(18,"p"),e._uU(19),e.ALo(20,"date"),e.qZA(),e.TgZ(21,"p"),e._uU(22),e.qZA(),e.TgZ(23,"p"),e._uU(24),e.qZA(),e.TgZ(25,"p"),e._uU(26),e.qZA(),e.TgZ(27,"a",5),e._uU(28,"Edit"),e.qZA()()),2&r){const n=o.$implicit;e.xp6(3),e.hij(" ",n.id," "),e.xp6(2),e.AsE(" ",n.firstName," ",n.lastName," "),e.xp6(2),e.hij(" email: ",n.email," "),e.xp6(2),e.hij("role: ",n.role,""),e.xp6(2),e.hij("level: ",n.level,""),e.xp6(2),e.hij("points: ",n.points,""),e.xp6(2),e.hij("wishlist-length: ",n.wishlist.length,""),e.xp6(2),e.hij("username: ",n.username,""),e.xp6(2),e.hij("created at: ",e.lcZ(20,17,n.createdAt),""),e.xp6(3),e.HOy("address: ",n.address.country,", ",n.address.homeAddress,", ",n.address.postalCode,", ",n.address.city,""),e.xp6(2),e.hij("active?: ",n.active,""),e.xp6(2),e.hij("spending: ",n.spending,""),e.xp6(1),e.Q6J("routerLink",e.VKq(19,Qe,n.id))}}let De=(()=>{class r{constructor(n){this.adminService=n}ngOnInit(){this.forbiddenUsersSubscription=this.adminService.getForbiddenUsers().subscribe(n=>{this.forbiddenUsers=n.data})}ngOnDestroy(){this.forbiddenUsersSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(_))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-admin-forbidden-users"]],decls:2,vars:1,consts:[[1,"admin-users-container"],["class","admin-user-card",4,"ngFor","ngForOf"],[1,"admin-user-card"],[1,"admin-user-card-header"],[1,"admin-user-card-heading"],[1,"user-edit-link",3,"routerLink"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Ye,29,21,"div",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngForOf",t.forbiddenUsers))},directives:[d.sg,p.yS],pipes:[d.uU],styles:[".admin-users-container[_ngcontent-%COMP%]{padding:2rem;display:flex;flex-wrap:wrap}.admin-user-card[_ngcontent-%COMP%]{padding:2rem;box-shadow:0 8px 16px #0003;background-color:#fff;margin:1rem;display:inline-block;max-width:25rem;height:100%}.admin-user-card-header[_ngcontent-%COMP%]{padding-bottom:1rem;border-bottom:1px solid darkcyan}.admin-user-card[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:1.4rem}h3.admin-user-card-heading[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:600}h4.admin-user-card-heading[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:400}h5.admin-user-card-heading[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600}a.user-edit-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:600;font-size:1.6rem;margin-top:1rem}a.user-edit-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),r})();var ze=g(4466);const Le=[{path:"",component:q,children:[{path:"home",component:O},{path:"product-form",component:F},{path:"category-form",component:x},{path:"all-products",component:G},{path:"all-sales",component:Se},{path:"sale/:saleId",component:pe},{path:"admin-user-details/:userId",component:qe},{path:"users",component:Ee},{path:"forbidden-users",component:De}]}];let je=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[d.ez,p.Bz.forChild(Le),a.UX,ze.m]]}),r})()}}]);